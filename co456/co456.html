<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>co456</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="../pandoc.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
    var mathElements = document.getElementsByClassName("math");
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") { katex.render(texText.data, mathElements[i], { displayMode: mathElements[i].classList.contains("display"), throwOnError: false } );
    }}});</script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="co-456">CO 456</h1>
<h2 id="game-of-nim">Game of Nim</h2>
<p>We are given a collection of piles of chips. Two players play alternately. On a player’s turn, they remove at least one chip from a pile. The first player who cannot move loses the game.</p>
<p><strong>Example</strong>.</p>
<blockquote>
<p><strong>1, 1, 2</strong>. First player takes both chips from the 2-pile, forces a win.</p>
<p><strong>6, 9</strong>. First player takes 3 from the 9-pile, mimic the moves of the second player to force a win.</p>
</blockquote>
<p>If there is a move which forces a win, then the game is a <strong>winning position</strong>. From a <strong>losing position</strong>, any move leads to a winning position for the other player.</p>
<p><strong>Lemma</strong>: If we have exactly 2 piles, with <span class="math inline">n</span>, <span class="math inline">m</span> chips, then player I wins if and only if <span class="math inline">n \neq m</span>.</p>
<h2 id="impartial-games">Impartial Games</h2>
<h3 id="conditions">Conditions</h3>
<ol type="1">
<li>There are exactly 2 players (player I and II).</li>
<li>There are several positions, with a starting position.</li>
<li>A player performs one of a set of allowed moves, which depends on only the current position (not on the player whose turn it is). “Impartial” (not chess). Each move generates an <strong>option</strong>.</li>
<li>The players move alternately.</li>
<li>There is complete information.</li>
<li>There are no chance moves.</li>
<li>The first player with no available move loses.</li>
<li>The rules guarantee that the games ends.</li>
</ol>
<p><strong>Example</strong>. <span class="math inline">G = (1, 1, 2)</span> game in Nim. Four possible moves.</p>
<blockquote>
<p><span class="math display">G = (1, 1, 2) \rightarrow \begin{cases}&amp;H_1 = (1, 1, 1) \\ &amp;H_2 = (1, 1, 0) \\ &amp;H_3 = (0, 1, 2) \\\ &amp;H_4 = (1, 0, 2)\end{cases}</span></p>
<p>Impartial games can be recursively defined by its position and options.</p>
</blockquote>
<p><strong>Definition</strong>: A game <span class="math inline">H</span> that is reachable from <span class="math inline">G</span> by a sequence of moves is <strong>simpler</strong> than <span class="math inline">G</span>.</p>
<p><strong>Lemma</strong>: In any game <span class="math inline">G</span>, it is a winning position for player I or player II.</p>
<blockquote>
<p>We proceed by induction on the simplicity of <span class="math inline">G</span>. If <span class="math inline">G</span> has no allowed moves, then it is a winning position for the player not in their turn. Assume <span class="math inline">G</span> has allowed moves, assume claim is true for games simpler than <span class="math inline">G</span>. Assume player I is the current player. Consider all options of <span class="math inline">G</span>. If one of them is a winning position for player I, then player I moves to that option, wins that game, then also wins <span class="math inline">G</span>. Otherwise, all options are winning positions for player II. So any move player I makes will make player II win. So <span class="math inline">G</span> is a winning position for player II.</p>
</blockquote>
<h3 id="game-sums">Game Sums</h3>
<p><strong>Definition</strong>: Let <span class="math inline">G</span>, <span class="math inline">H</span> be two games with options <span class="math inline">G_1, ..., G_m</span>, and <span class="math inline">H_1, ..., H_n</span> respectively. We define <span class="math inline">G + H</span> as the game with options <span class="math inline">G_1 + H, ..., G_m + H, G + H_1, ..., G + H_n</span>.</p>
<p><strong>Example</strong>: We denote <span class="math inline">\star n</span> to be a game of Nim with one pile of <span class="math inline">n</span> chips. Then <span class="math inline">\star 1 + \star 1 + \star 2</span> is the game of three piles with <span class="math inline">(1, 1, 2)</span> chips.</p>
<p>Let <span class="math inline">\bf G</span> be the set of all impartial games.</p>
<ol type="1">
<li><span class="math inline">G + H \in \bf G</span> for any <span class="math inline">G, H \in \bf G</span> (closure).</li>
<li><span class="math inline">(G + H) + J = G + (H + J)</span> (associative).</li>
<li>There exists <span class="math inline">0 \in \bf G</span> where <span class="math inline">0 + G = G + 0 = G</span> for all <span class="math inline">G \in \bf G</span>. 0 is the game with no options.</li>
<li><span class="math inline">G + H = H + G</span> for all <span class="math inline">G, H \in \bf G</span> (symmetric).</li>
</ol>
<blockquote>
<p><strong>Aside</strong>: These are properties of an abelian group except for the inverse property.</p>
</blockquote>
<h3 id="game-equivalences">Game Equivalences</h3>
<p><strong>Definition</strong>: Two games <span class="math inline">G, H</span> are <strong>equivalent</strong> is if for any game <span class="math inline">J</span>, <span class="math inline">G + J</span> is a losing game if and only if <span class="math inline">H + J</span> is a losing game. Adding the same game does not alter the outcome.</p>
<p><strong>Notation</strong>: <span class="math inline">G \equiv H</span>.</p>
<p><strong>Example</strong>: <span class="math inline">\star 3 \equiv \star 3</span>. <span class="math inline">\star 3 \not\equiv \star 4</span> since <span class="math inline">\star 3 + \star 3</span> is a losing game and <span class="math inline">\star 4 + \star 3</span> is a winning game. So <span class="math inline">\star n \equiv \star m</span> if and only if <span class="math inline">n = m</span>.</p>
<p><span class="math inline">\equiv</span> is an equivalence relation.</p>
<ol type="1">
<li>Reflexive. <span class="math inline">G \equiv G</span>.</li>
<li>Symmetric. <span class="math inline">G \equiv H</span> if and only if <span class="math inline">H \equiv G</span>.</li>
<li>Transitive. If <span class="math inline">G \equiv H</span> and <span class="math inline">H \equiv K</span>, then <span class="math inline">G \equiv K</span>.</li>
</ol>
<blockquote>
<p>Quick exercise to verify.</p>
</blockquote>
<p><strong>Exercise</strong>: If <span class="math inline">G \equiv H</span> then <span class="math inline">G + J \equiv H + J</span> for any <span class="math inline">J</span>.</p>
<p><strong>Lemma</strong>: <span class="math inline">G</span> is a losing game if and only if <span class="math inline">G \equiv \star 0</span>.</p>
<blockquote>
<p><strong>Note</strong>: Start of proving that every impartial game is equivalent to a some Nim game.</p>
<p><span class="math inline">(\Leftarrow)</span> If <span class="math inline">G \equiv \star 0</span>, then <span class="math inline">G + \star 0</span> is a losing game if and only if <span class="math inline">\star 0 + \star 0</span> is a losing game. We know <span class="math inline">\star 0 + \star 0</span> is a losing game.</p>
<p><span class="math inline">(\Rightarrow)</span> Suppose that <span class="math inline">G</span> is a losing game. We want to show <span class="math inline">G + J</span> is a losing game if and only if <span class="math inline">\star 0 + J = J</span> is a losing game.</p>
<p><span class="math inline">(\leftarrow)</span> Suppose <span class="math inline">J</span> is a losing game. Use induction on the simplicity of <span class="math inline">G + J</span>. Base case <span class="math inline">\equiv</span> if left as an exercise. Consider <span class="math inline">G + J</span>. Player I can move in <span class="math inline">G</span> or in <span class="math inline">J</span>.</p>
<ol type="1">
<li>Suppose player I moves from <span class="math inline">G + J</span> to <span class="math inline">G + J^\prime</span>. Since <span class="math inline">J</span> is a losing game, <span class="math inline">J^\prime</span> is a winning game. So player II has a winning move from <span class="math inline">J^\prime</span> to <span class="math inline">J^{\prime\prime}</span> such that <span class="math inline">J^{\prime\prime}</span> is a losing game. By induction, <span class="math inline">G + J^{\prime\prime}</span> is a losing game. So player I loses.</li>
<li>Similar if we go from <span class="math inline">G + J</span> to <span class="math inline">G^\prime + J</span>. Player II moves to <span class="math inline">G^{\prime\prime} + J</span> which is by induction a losing game. So player I loses.</li>
</ol>
<p>So in both cases, <span class="math inline">G + J</span> is a losing game.</p>
<p><span class="math inline">(\rightarrow)</span> Suppose <span class="math inline">G + J</span> is a losing game. Suppose by way of contradiction <span class="math inline">J</span> is a winning game. Then PI has a winning move <span class="math inline">J \to J^\prime</span>. So <span class="math inline">J^\prime</span> is a losing game. Then by induction, <span class="math inline">G + J^\prime</span> is a losing game. Then <span class="math inline">G + J</span> is a winning game, contradiction.</p>
</blockquote>
<p><strong>Corollary</strong>: If <span class="math inline">G</span> is a losing game, then <span class="math inline">J</span> has the same outcome as <span class="math inline">J + G</span>.</p>
<blockquote>
<p>Since <span class="math inline">G</span> is a losing game, <span class="math inline">G \equiv \star 0</span>. Add <span class="math inline">J</span> to both sides. <span class="math inline">G + J \equiv \star 0 + J = J</span>.</p>
</blockquote>
<p><strong>Example</strong>:</p>
<ol type="1">
<li>Recall that <span class="math inline">\star 5 + \star 5</span> and <span class="math inline">\star 8 + \star 8</span> are both losing games. By corollary, <span class="math inline">\star 5 + \star 5 + \star 8 + \star 8</span> is still a losing game. Player I can either play in <span class="math inline">\star 5 + \star 5</span> or <span class="math inline">\star 8 + \star 8</span>. Player II will make a winning move in the same part of the game. So we still end up with a losing game.</li>
<li><span class="math inline">(\star 1 + \star 1 + \star 2) + (\star 5 + \star 5)</span> is a winning game and a losing game. Player I makes winning move in <span class="math inline">(\star 1 + \star 1 + \star 2)</span>. Player II has two losing parts. So we still end up with a losing game.</li>
</ol>
<p><strong>Lemma</strong> (Copycat Principle): For any game <span class="math inline">G</span>, <span class="math inline">G + G \equiv \star 0</span>.</p>
<blockquote>
<p>This is true when <span class="math inline">G</span> has no options. Consider <span class="math inline">G + G</span> and without loss of generality player I moves to <span class="math inline">G^\prime + G</span>. Then player II can move to <span class="math inline">G^\prime + G^\prime</span>. By induction <span class="math inline">G^\prime + G^\prime \equiv \star 0</span>, so it is a losing game for player I. So <span class="math inline">G + G</span> is a losing game, so <span class="math inline">G + G \equiv \star 0</span>.</p>
<p><strong>Aside</strong>: If we treat our games as equivalence classes, then the inverse of a game is itself. Adding <span class="math inline">G + G</span> gives the identity <span class="math inline">\star 0</span>.</p>
</blockquote>
<p><strong>Lemma</strong>: <span class="math inline">G \equiv H</span> if and only if <span class="math inline">G + H \equiv \star 0</span>.</p>
<blockquote>
<p><span class="math inline">(\Rightarrow)</span> If <span class="math inline">G \equiv H</span> then <span class="math inline">G + G = \star 0 \equiv H + G</span>.</p>
<p><span class="math inline">(\Leftarrow)</span> If <span class="math inline">G + H \equiv \star 0</span> then <span class="math inline">G + G + H \equiv H \equiv \star 0 + G \equiv G</span></p>
</blockquote>
<p><strong>Example</strong>: <span class="math inline">\star 1 + \star 2 + \star 3 \equiv \star 0</span>. By Lemma, <span class="math inline">\star 1 + \star 2 \equiv \star 3</span>.</p>
<p><strong>Lemma</strong>: If the options of <span class="math inline">G</span> are equivalent to the options of <span class="math inline">H</span>, then <span class="math inline">G \equiv H</span>. (More precisely: there is a bijection between the options of <span class="math inline">G</span> and <span class="math inline">H</span>, where the paired options are equivalent).</p>
<p><strong>Example</strong>: We can show <span class="math inline">\star 1 + \star 2 \equiv \star 3</span> using this lemma.</p>
<blockquote>
<p><span class="math display">\star 1 + \star 2 \rightarrow \begin{cases}&amp;\star 2 \\ &amp;\star 1 \\ &amp;\star 1 + \star 1 \equiv \star 0 \end{cases}</span> <span class="math display">\star 3 \rightarrow \begin{cases}&amp;\star 2 \\ &amp;\star 1 \\ &amp;\star 0  \end{cases}</span></p>
</blockquote>
<p>Converse is not true.</p>
<blockquote>
<p>It suffices to show <span class="math inline">G + H \equiv \star 0</span>, or <span class="math inline">G + H</span> is a losing game. If <span class="math inline">G, H</span> have no options, then <span class="math inline">G + H \equiv \star 0</span>. Now WLOG, suppose player I moves to <span class="math inline">G^\prime + H</span>. By assumption, <span class="math inline">G^\prime \equiv H^\prime</span> for some option <span class="math inline">H^\prime</span> of <span class="math inline">H</span>. So player II moves to <span class="math inline">G^\prime + H^\prime</span>. By Lemma, <span class="math inline">G^\prime + H^\prime \equiv \star 0</span>, so it is a losing game for player I.</p>
</blockquote>
<h3 id="nim-sums">Nim Sums</h3>
<p><strong>Definition</strong>: If <span class="math inline">\star m + \star n \equiv \star k</span>, then <span class="math inline">k</span> is the Nim sum of <span class="math inline">m, n</span>.</p>
<p><strong>Unproven Theorem</strong>: Suppose <span class="math inline">n = 2^{a_1} + 2^{a_2} + ...</span>, where <span class="math inline">a_1 &gt; a_2 &gt; ...</span>. Then <span class="math inline">\star n \equiv \star 2^{a_1} + \star 2^{a_2} + ...</span>.</p>
<blockquote>
<p>Proven below.</p>
</blockquote>
<p><strong>Examples</strong>.</p>
<ol type="1">
<li><span class="math inline">11 = 2^3 + 2^1 + 2^0</span>. So <span class="math inline">\star 11 \equiv \star 8 + \star 2 + \star 1</span>.</li>
<li><span class="math inline">13 = 2^3 + 2^2 + 2^0</span>. So <span class="math inline">\star 13 \equiv \star 8 + \star 4 + \star 1</span>.</li>
<li><span class="math inline">\star 11 + \star 13 \equiv \star 8 + \star 8 + \star 4 + \star 2 + \star 1 + \star 1 \equiv \star 4 + \star 2 \equiv 6</span>.</li>
</ol>
<blockquote>
<p>This is an xor operation.</p>
</blockquote>
<p>When is <span class="math inline">\star b_1 + \star b_2 + ... + \star b_k \equiv \star 0</span>? When each power of <span class="math inline">2^a</span> appears in even number of terms.</p>
<p>Given <span class="math inline">\star b_1 + \star b_2 + ... + \star b_k \equiv \star c</span>, where <span class="math inline">c &gt; 0</span>, what is a winning move? We want to make a move so the resulting game is equivalent to <span class="math inline">\star 0</span>. We add <span class="math inline">\star c</span> to both sides. We only affect one stack, so we can replace a stack <span class="math inline">b_i</span> with <span class="math inline">\star b_i + \star c</span>. This is only valid if the Nim sum of <span class="math inline">b_i</span> and <span class="math inline">c</span> is strictly smaller than <span class="math inline">b_i</span>. This will happen to at least one of <span class="math inline">b_1, ..., b_k</span>.</p>
<p><strong>Example</strong>: <span class="math inline">\star 11 + \star 13 \equiv \star 6</span>. Add <span class="math inline">\star 6</span> to <span class="math inline">\star 11</span> or <span class="math inline">\star 13</span>.</p>
<blockquote>
<p><span class="math inline">\star 13 + \star 6 \equiv \star 11</span>, so the winning move is removing <span class="math inline">2</span> from <span class="math inline">\star 13</span>.</p>
</blockquote>
<p><strong>Lemma</strong>: If <span class="math inline">\star b_1 + ... + \star b_k \equiv \star s</span>, where <span class="math inline">s \ge 0</span>, then there exists <span class="math inline">i</span> where the Nim sum of <span class="math inline">b_i</span> and <span class="math inline">s</span> is strictly less than <span class="math inline">b_i</span>.</p>
<blockquote>
<p>Suppose <span class="math inline">s = 2^{a_1} + 2^{a_2} + ...</span> where <span class="math inline">a_1 &gt; a_2 &gt; ...</span>. An odd number of <span class="math inline">b_i</span>’s contain <span class="math inline">2^a_i</span>, let a specific <span class="math inline">b_i</span> be one of them. Let <span class="math inline">\star t \equiv \star b_i + \star s</span>. Since <span class="math inline">2^{a_1}</span> is in both <span class="math inline">b_i</span> and <span class="math inline">t</span>, they cancel and do not appear in <span class="math inline">t</span>. At worst, <span class="math inline">2^{a_2}, 2^{a_3}, ...</span> appear in <span class="math inline">t</span>. So <span class="math inline">t \le b_i - 2^{a_i} + 2^{a_2} + 2^{a_3} + ... &lt; b_i</span>.</p>
</blockquote>
<p><strong>Theorem</strong>: Suppose <span class="math inline">n = 2^{a_1} + 2^{a_2} + ...</span>, where <span class="math inline">a_1 &gt; a_2 &gt; ...</span>. Then <span class="math inline">\star n \equiv \star 2^{a_1} + \star 2^{a_2} + ...</span>.</p>
<blockquote>
<p>This theorem uses the following lemma. <strong>Lemma</strong>: Let <span class="math inline">0 \le p, q &lt; 2^a</span>. Suppose our theorem holds for all values less than <span class="math inline">2^a</span>. Then Nim sum of <span class="math inline">p</span> and <span class="math inline">q</span> is also strictly less than <span class="math inline">2^a</span>.</p>
<p><strong>Theorem proof illustration</strong>: We will use induction. Consider <span class="math inline">\star 7</span>. <span class="math inline">7 = 4 + 2 + 1</span>, want to prove <span class="math inline">\star 7 \equiv \star 4 + (\star 2 + \star 1)</span>. We have <span class="math inline">\star 7 \equiv \star 4 + \star 3</span> by induction, so we need to show <span class="math inline">\star 7 \equiv \star 4 + \star 3</span>. We can show that the two sides have equivalent options.</p>
<p>By induction on <span class="math inline">n</span>. When <span class="math inline">n = 1</span>, <span class="math inline">n = 2^0</span>, and <span class="math inline">\star 1 \equiv \star 2^0</span>. Suppose <span class="math inline">n = 2^{a_1} + 2^{a_2} + ...</span>, where <span class="math inline">a_1 &gt; a_2 &gt; ...</span>. Let <span class="math inline">q = n - 2^{a_1}</span>. When <span class="math inline">q = 0</span>, <span class="math inline">\star n \equiv \star 2^{a_1}</span>. Assume <span class="math inline">q \ge 1</span>. By induction, <span class="math inline">\star q \equiv \star 2^{a_2} + \star 2^{a_3} + ...</span>. It remains to show that <span class="math inline">\star n \equiv \star 2^{a_1} + \star q</span>. We do this by showing the options are equivalent. The options of <span class="math inline">\star n</span> are <span class="math inline">\star (n-1), ..., \star 0</span>. There are two types of options for <span class="math inline">\star 2^{a_1} + \star q</span>.</p>
<ul>
<li><span class="math inline">\star i + \star q</span>, <span class="math inline">0 \le i &lt; 2^{a_i}</span>. Suppose <span class="math inline">\star i + \star q \equiv \star r_i</span> for some <span class="math inline">r_i</span>. Since <span class="math inline">i &lt; 2^{a_i}</span> and <span class="math inline">q &lt; 2^{a_i}</span>, by induction and lemma, <span class="math inline">r_i &lt; 2^{a_i}</span>. If <span class="math inline">\star r_i \equiv \star r_j</span>, then <span class="math inline">\star i + \star q \equiv \star j + \star q</span>, so <span class="math inline">\star i \equiv \star j</span>, so <span class="math inline">i = j</span>. So <span class="math inline">r_0, ..., r_{a_1 - 1}</span> are all distinct and less than <span class="math inline">2^{a_1}</span>. By pigeonhole-ish, <span class="math inline">\{r_0, ..., r_{2^{a_1 - 1}}\} = \{\star 0, ..., \star 2^{a_1 - 1}\}</span>.</li>
<li><span class="math inline">\star 2^{a_1} + \star i</span>, where <span class="math inline">0 \le i &lt; q</span>. Let <span class="math inline">i = 2^{b_1} + 2^{b_2} + ...</span>, then none of the <span class="math inline">b_i</span>’s is equal to <span class="math inline">a_1</span>. Then <span class="math inline">2^{a_1} + 2^{b_1} + ...</span> is a sum of distinct powers of <span class="math inline">2</span>. Using induction, <span class="math inline">\star 2^{a_i} + \star i \equiv \star 2^{a_1} + \star 2^{b_1} + \star 2^{b_2} + ... \equiv \star(2^{a_1} + i)</span>. The options of this type are equivalent to <span class="math inline">\{\star 2^{a_1}, \star (2^{a_1} + 1), ..., \star(2^{a_1} + q - 1)\}</span>. Since the two sides have equivalent options, <span class="math inline">\star n \equiv \star 2^{a_1} + \star q</span>.</li>
</ul>
</blockquote>
<h3 id="nim-equivalences">Nim Equivalences</h3>
<p>We want to show that all impartial games are equivalent to Nim games with 1 pile.</p>
<p><strong>Example</strong>: <span class="math inline">\star 11 + \star 13 \equiv \star 6</span>.</p>
<blockquote>
<p>Suppose we go to <span class="math inline">\star 11 + \star 4 \equiv \star 15</span>. Similar to adding <span class="math inline">9</span> chips to <span class="math inline">\star 6</span>. What is the effect of allowing stacks to increase?</p>
</blockquote>
<p>Consider the game of poker Nim. It consists of a regular Nim game plus a bag of <span class="math inline">B</span> chips. We not allow regular Nim moves and adding <span class="math inline">B^\prime \le B</span> chips to one pile. If we face a losing game in Nim, we could add chips instead. But the other player can just take the same chips away, and nothing changed. So poker Nim is essentially the same as Nim.</p>
<p>Suppose a game <span class="math inline">G</span> with options <span class="math inline">\star 0, \star 1, \star 2, \star 5, \star 10, \star 24</span>. We claim that this is equivalent to <span class="math inline">\star 3</span>. The options of <span class="math inline">\star 0, \star 1, \star 2</span> are present. If we add chips to <span class="math inline">\star 3</span>, then the second player can remove them back to <span class="math inline">\star 3</span>. We get <span class="math inline">3</span> as the smallest non-negative integer not in <span class="math inline">\{\star 0, \star 1, \star 2, \star 5, \star 10, \star 24\}</span>. We define <span class="math inline">mex(S)</span> to be the smallest non-negative integer not in <span class="math inline">S</span> (minimum excluded integer).</p>
<p><strong>Theorem</strong>: Let <span class="math inline">G</span> be an impartial game whose options are equivalent to <span class="math inline">\{\star s: s \in S\}</span>. Then <span class="math inline">G \equiv \star mex(S)</span>.</p>
<blockquote>
<p>Let <span class="math inline">m = mex(S)</span>. It suffices to show that <span class="math inline">G + \star m \equiv \star 0</span>.</p>
<p>Suppose we move to <span class="math inline">G + \star m^\prime</span> where <span class="math inline">m^\prime &lt; m</span>. Since <span class="math inline">m = mex(S)</span>, <span class="math inline">m^\prime \in S</span>. So there exists an option <span class="math inline">G^\prime</span> of <span class="math inline">G</span> equivalent to <span class="math inline">\star m^\prime</span>. Player II moves to <span class="math inline">G^\prime + \star m^\prime</span> and this is a losing game. So <span class="math inline">G + \star m</span> is a losing game for player I.</p>
<p>Suppose we move to <span class="math inline">G^\prime + \star m</span>. Then <span class="math inline">G^\prime \equiv \star k</span> for some <span class="math inline">k \in S</span>. Then <span class="math inline">G^\prime + \star m \equiv \star k + \star m \not\equiv \star 0</span> since <span class="math inline">k \neq mex(S)</span>. So <span class="math inline">G^\prime + \star m</span> is a winning game for player II. So <span class="math inline">G + \star m</span> is a losing game for player I.</p>
<p>If <span class="math inline">m = 0</span>, then all options of <span class="math inline">G</span> are winning games. So <span class="math inline">G \equiv \star 0</span>, and <span class="math inline">G + \star m \equiv \star 0 + \star 0 \equiv \star 0</span>.</p>
</blockquote>
<p><strong>Corollary</strong>: Any impartial game <span class="math inline">G</span> is equivalent to some Nim game <span class="math inline">\star n</span>.</p>
<blockquote>
<p>If <span class="math inline">G</span> has no options then <span class="math inline">G \equiv \star 0</span>. Suppose <span class="math inline">G</span> has options <span class="math inline">G_1, G_2, ..., G_q</span>. By induction, <span class="math inline">G_i \equiv \star n_i</span> for some <span class="math inline">n_i</span>, for each <span class="math inline">i</span>. By theorem, <span class="math inline">G \equiv \star mex(\{n_1, ..., n_q\})</span>.</p>
</blockquote>
<p><strong>Example</strong>:</p>
<blockquote>
<p><span class="math display">\star 1 + \star 1 + \star 2 \to \begin{cases}\star 1 + \star 2 \equiv \star 3 \\ \star 1 + \star 1 \equiv \star 0 \\ \star 1 + \star 1 + \star 1 \equiv \star 1\end{cases}</span> By theorem, <span class="math inline">\star 1 + \star 1 + \star 2 \equiv \star mex(\{0, 1, 3\}) \equiv \star 2</span>.</p>
</blockquote>
<p><strong>Exercise</strong>: A game cannot be equivalent to one of its options.</p>
<h3 id="finding-nim-values">Finding Nim Values</h3>
<p><strong>Example</strong>: In the rook game, we have an <span class="math inline">m \times n</span> chess board, and a rook at position <span class="math inline">(i, j)</span>. A move consists of moving the rook any positive number of spaces to the left or up. The player with no move loses.</p>
<blockquote>
<p><span class="math display">\begin{bmatrix}
\star 0 &amp; \star 1 &amp; \star 2 &amp; \star 3 \\
\star 1 &amp; \star 0 &amp; \star 1 &amp; \star 2 \\
\star 2 &amp; \star 1 &amp; \star 0 &amp; \star 1 \\
\star 3 &amp; \star 2 &amp; \star 1 &amp; \star 0 \\
\end{bmatrix}</span></p>
</blockquote>
<p>The Nim value of <span class="math inline">(i, j)</span> is <span class="math inline">mex(\{(i^\prime, j): 0 \le i^\prime &lt; i - 1\} \cup \{(i, j^\prime): 0 \le j^\prime &lt; j - 1\})</span>.</p>
<p><strong>Example</strong>: In the subtraction game, we have one pile of <span class="math inline">n</span> chips. A move is taking away <span class="math inline">1</span>, <span class="math inline">2</span>, or <span class="math inline">3</span> chips. Let <span class="math inline">S_n</span> be the Nim values of the game with <span class="math inline">n</span> chips. Then <span class="math inline">S_n = mex(\{S_{n-1}, S_{n-2}, S_{n-3}\})</span>.</p>
<blockquote>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"><span class="math inline">n</span></th>
<th style="text-align: center;"><span class="math inline">S_n</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">0</span></td>
<td style="text-align: center;"><span class="math inline">0</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">1</span></td>
<td style="text-align: center;"><span class="math inline">1</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">2</span></td>
<td style="text-align: center;"><span class="math inline">2</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">3</span></td>
<td style="text-align: center;"><span class="math inline">3</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">4</span></td>
<td style="text-align: center;"><span class="math inline">0</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">5</span></td>
<td style="text-align: center;"><span class="math inline">1</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">6</span></td>
<td style="text-align: center;"><span class="math inline">2</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">7</span></td>
<td style="text-align: center;"><span class="math inline">3</span></td>
</tr>
</tbody>
</table>
</blockquote>
<p>Suppose we change valid moves to removing <span class="math inline">2</span>, <span class="math inline">5</span>, or <span class="math inline">6</span> chips.</p>
<blockquote>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"><span class="math inline">n</span></th>
<th style="text-align: center;"><span class="math inline">S_n</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">0</span></td>
<td style="text-align: center;"><span class="math inline">0</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">1</span></td>
<td style="text-align: center;"><span class="math inline">0</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">2</span></td>
<td style="text-align: center;"><span class="math inline">1</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">3</span></td>
<td style="text-align: center;"><span class="math inline">1</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">4</span></td>
<td style="text-align: center;"><span class="math inline">0</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">5</span></td>
<td style="text-align: center;"><span class="math inline">2</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">6</span></td>
<td style="text-align: center;"><span class="math inline">1</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">7</span></td>
<td style="text-align: center;"><span class="math inline">3</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">8</span></td>
<td style="text-align: center;"><span class="math inline">0</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">9</span></td>
<td style="text-align: center;"><span class="math inline">2</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">10</span></td>
<td style="text-align: center;"><span class="math inline">1</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">11</span></td>
<td style="text-align: center;"><span class="math inline">0</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">12</span></td>
<td style="text-align: center;"><span class="math inline">0</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">13</span></td>
<td style="text-align: center;"><span class="math inline">1</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">14</span></td>
<td style="text-align: center;"><span class="math inline">1</span></td>
</tr>
</tbody>
</table>
</blockquote>
<p>Losing game if and only if <span class="math inline">n = 0, 1, 2, 4, 8 \pmod {11}</span>.</p>
<p><strong>Example</strong>: Rook game at <span class="math inline">(4, 2)</span> <span class="math inline">+</span> second subtraction game <span class="math inline">n = 7</span>.</p>
<blockquote>
<p>Equivalent to <span class="math inline">\star 2 + \star 3 \equiv \star 1</span>. So it is a winning game. Winning moves are removing <span class="math inline">2</span> from the subtraction game, and moving left with the rook.</p>
</blockquote>
<h1 id="strategic-games">Strategic Games</h1>
<p><strong>Definition</strong>: Given by specifying a set <span class="math inline">N = \{1, ..., n\}</span> of players, and for each player <span class="math inline">i</span>, there is a set <span class="math inline">S_i</span> of strategies and a utility function <span class="math inline">u_i: S_1 \times ... \times S_n \to \mathbb{R}</span>.</p>
<p><strong>Example</strong>: Two players I, II. Rows are PI strategies, columns are PII strategies. Cells are the utility of PI, PII.</p>
<blockquote>
<p><span class="math display">\begin{bmatrix}
5K, 5K &amp; 0, 10K \\
10K, 0 &amp; 1, 1
\end{bmatrix}</span></p>
</blockquote>
<ol type="1">
<li>All players are rational and selfish.</li>
<li>All players have knowledge of all game parameters.</li>
<li>Players move simultaneously.</li>
<li>Each player <span class="math inline">i</span> chooses strategy <span class="math inline">i \in S_i</span>, and this forms a strategy profile <span class="math inline">S = (S_1, ..., S_n) \in S_1 \times ... \times S_n</span>, the outcome of the game. Player <span class="math inline">i</span> earns utility <span class="math inline">u_i(S)</span>.</li>
</ol>
<h1 id="auctions">Auctions</h1>
<ul>
<li>Buyers <span class="math inline">N = \{1, ..., n\}</span> for a single item. Buyer <span class="math inline">i</span> values the item at price <span class="math inline">v_i</span>, and submits bid <span class="math inline">b_i</span>. Strategy profile is <span class="math inline">(b_1, ..., b_n)</span>. Ties are broken by index.</li>
<li><span class="math inline">u_i = \begin{cases}v_i - \max_{j \neq i} b_n,\ &amp;\text{Player $i$ wins} \\ 0,\ &amp;\text{otherwise}\end{cases}</span>.</li>
</ul>
<p><strong>Theorem</strong>: In second-price bid auction, <span class="math inline">v_i</span> is a dominant strategy for all <span class="math inline">i</span>.</p>
<blockquote>
<p>Consider strategy profile <span class="math inline">b \in S</span>. We first show that <span class="math inline">u_i(v_i, b_{-i}) \ge u_i(b)</span> for all <span class="math inline">b_i \in S</span>.</p>
<ol type="1">
<li>Suppose <span class="math inline">v_i</span> is the winning bid in <span class="math inline">(v_i, b_{-i})</span>. Let <span class="math inline">b_j</span> be the second highest bid in <span class="math inline">b</span>. <span class="math inline">u_i(v_i, b_{-i}) = v_i - b_i \ge 0</span>. Let us switch our bid to <span class="math inline">b_i</span>. Suppose <span class="math inline">b_i &lt; b_j</span>, so <span class="math inline">b_i</span> is still winning, so <span class="math inline">u_i(b_i, b_{-i}) = u_i(v_i, b_{-i})</span>. Suppose <span class="math inline">b_i &lt; b_j</span>, so <span class="math inline">b_i</span> is a losing bid, <span class="math inline">u_i(b_i, b_{-i}) \le 0</span>.</li>
<li>Suppose <span class="math inline">v_i</span> is a losing bid. Suppose <span class="math inline">b_i &lt; b_j</span>, then <span class="math inline">b_i</span> is a losing bid, <span class="math inline">u_i(b_i, b_{-i}) = 0</span>. Suppose <span class="math inline">b_i &gt; b_j</span>, then <span class="math inline">b_i</span> is a winning bid, <span class="math inline">u_i(b_i, b_{-i}) = v_i - b_j \le 0</span>.</li>
</ol>
<p>It remains to show that for every <span class="math inline">i</span>, there exists <span class="math inline">b_i \in S_i \setminus \{v_i\}</span> such that <span class="math inline">u_i(v_i, b_{-i}) &gt; v_i(b_i, b_{-i})</span>.</p>
<ol type="1">
<li>Suppose <span class="math inline">b_i &lt; v_i</span>. Let <span class="math inline">k \in (b_i, v_i)</span>. Set <span class="math inline">b_j = k</span> for <span class="math inline">i \neq j</span>. Then <span class="math inline">u_i(v_i, b_{-i}) &gt; 0</span>, but <span class="math inline">u_i(b_i, b_{-i}) = 0</span>.</li>
<li>Suppose <span class="math inline">b_i &gt; v_i</span>. Let <span class="math inline">k \in (v_i, b_i)</span>. Set <span class="math inline">b_j = k</span> for <span class="math inline">i \neq j</span>. Then <span class="math inline">u_i(v_i, b_{-i}) = 0</span>, but <span class="math inline">b_i</span> is a winning bid, so <span class="math inline">u_i(b_i, b_{-i}) &lt; 0</span>.</li>
</ol>
</blockquote>
<h1 id="mixed-strategy-games">Mixed Strategy Games</h1>
<ul>
<li><strong>Mixed Strategy</strong> for player <span class="math inline">i</span> is <span class="math inline">x^i \in \mathbb{R}_{+}^{S_i}</span> such that <span class="math inline">\sum_{s_i \in S_i} x^i_{s_i} = 1</span>. A <strong>mixed strategy profile</strong> is <span class="math inline">x = (x^1, ..., x^n)</span>, where <span class="math inline">x^i</span> is a mixed strategy for player <span class="math inline">i</span>.</li>
<li>Utility is calculated with expected values. <strong>Expected utility of strategy</strong> <span class="math inline">s_i \in S_i</span> is <span class="math inline">u_i(s_i, x^{-i}) = \sum_{s_i \in S_i} u_i(s_i, s_{-i})\Pi_{j\neq i} x^j_{S_j}</span>, where <span class="math inline">u_i(s_i, s_{-i})</span> is the utility from the pure strategy game. <strong>Expected utility</strong> of player <span class="math inline">i</span> is <span class="math inline">u_i(x) = \sum_{s_i \in S_i} x^i_{s_i} u_i(s_i, x^{-i})</span>.</li>
<li>Preferences may differ in mixed strategy games depending on the utility.</li>
<li>Mixed strategy profile is <strong>mixed Nash equilibrium</strong> if for every <span class="math inline">i \in N</span>, <span class="math inline">u_i(\overline{x}) \ge u_i(x^i, \overline{x}^{-i})</span>, for all mixed strategies <span class="math inline">x^i</span>.</li>
</ul>
<p><strong>Definition</strong>: <strong>Best response function</strong> <span class="math inline">B_i(\overline{x}^{-i})</span> for player <span class="math inline">i</span> is the set of all mixed strategies with maximum expected utility against <span class="math inline">\overline{x}^{-i}</span>.</p>
<p><strong>Proposition</strong>: <span class="math inline">\overline{x} = (\overline{x}^1, ..., \overline{x}^n)</span> is a mixed Nash equilbrium if and only if <span class="math inline">\overline{x}^i \in B_i(\overline{x}^{-i})</span> for all <span class="math inline">i \in N</span>.</p>
<p>Example: Matching pennies.</p>
<blockquote>
<p>Suppose <span class="math inline">x^1 = (p, 1 - p)</span>, <span class="math inline">x^2 = (q, 1 - q)</span>. For player I, expected utility for playing <span class="math inline">H</span> is <span class="math inline">q(1) + (1-q)(-1) = 2q - 1</span>. Expected utility for player <span class="math inline">T</span> is <span class="math inline">q(-1) + (1-q) = 1 - 2q</span>. So the overall expected utility is <span class="math inline">p(-2 + 4q) + (1 - 2q)</span>. Given <span class="math inline">q</span> we find <span class="math inline">p</span> that gives maximum <span class="math inline">u_i(x^2)</span>. <span class="math inline">q</span> is constant, so <span class="math inline">1 - 2q</span> is constant. Suppose <span class="math inline">q &lt; \frac{1}{2}</span>, maximized when <span class="math inline">p = 0</span>. Suppose <span class="math inline">q = \frac{1}{2}</span>, any value of <span class="math inline">p</span> gives the same utility. Suppose <span class="math inline">q &gt; \frac{1}{2}</span>, maximized when <span class="math inline">p = 1</span>. So <span class="math inline">B_1(x^2) = \begin{cases}[0],\ &amp;q &lt; \frac{1}{2}\\ [0, 1],\ &amp;q = \frac{1}{2}\\ [1],\ &amp;q &gt; \frac{1}{2}\end{cases}</span>.</p>
</blockquote>
<h2 id="support-characterization">Support Characterization</h2>
<p>Let us maximize utility for player <span class="math inline">i</span> given <span class="math inline">\overline{x}^{-i}</span>.</p>
<p><span class="math display">\begin{aligned}
\max\ &amp;\sum_{s \in S_i} x^i_s u_i(s, \overline{x}^{-i}) \\
\text{s.t. } &amp;\sum_{s \in S_i} x^i_s = 1\\ &amp;x^i \ge 0
\end{aligned}</span></p>
<p>This is a LP with <span class="math inline">x^i</span> as the variables. Let us take the dial.</p>
<p><span class="math display">\begin{aligned}
\min\ &amp;y \\
\text{s.t. } &amp;y \ge u_i(s, \overline{x}^{-i}),\ \forall s \in S_i
\end{aligned}</span></p>
<p><span class="math inline">(P)</span> is feasible, <span class="math inline">(D)</span> is feasible, so they have an optimal solution by the fundamental theorem of LP. By strong duality theorem, their optimal solutions have the same objective value. The value of <span class="math inline">y</span> minimizing <span class="math inline">(D)</span> is <span class="math inline">\max_{s \in S_i} u_i(s, \overline{x}^{-i})</span>. We reconstruct the optimal value of <span class="math inline">(P)</span>.</p>
<p><strong>Recal</strong>: Complementary slackness conditions. For every <span class="math inline">s \in S_i</span>, either <span class="math inline">x^i_s = 0</span> or <span class="math inline">y = u_i(s, \overline{x}^{-i})</span>. So if <span class="math inline">x^i_s &gt; 0</span>, then <span class="math inline">y = u_i(s, \overline{x}^{-i})</span>, meaning only pure strategies with the highest expected utility could have non-zero probabilities in the best repsonse.</p>
<p><strong>Recall</strong>: Feasible solutions <span class="math inline">(\overline{x}^i, y)</span> are optimal if and only if they satisfy the complementary slackness conditions.</p>
<p><strong>Theorem</strong>: Given <span class="math inline">\overline{x}^{-i}</span>, mixed strategy <span class="math inline">x^i \in B_i(\overline{x}^{-i})</span> if and only if <span class="math inline">\overline{x}^i_s &gt; 0</span> implies <span class="math inline">s \in S_i</span> is a pure strategy of maximum expected utility against <span class="math inline">\overline{x}^{-i}</span>.</p>
<p><em>Note</em>: By strong duality, the overall expected mixed strategy utility is equal to the maximum utility when playing a pure strategy. Any probability distribution over all strategies with maximum expected utility is a best response.</p>
<h2 id="player-zero-sum-games">2-Player Zero-Sum Games</h2>
<blockquote>
<p><strong>Theorem</strong>: Every finite strategy game has a mixed Nash equilibrium.</p>
</blockquote>
<p>We focus on 2-player zero-sum games. A strategic game is <strong>zero-sum</strong> if <span class="math inline">\sum_{i \in N} u_i(s) = 0</span> for every strategy profile <span class="math inline">s</span>. For 2-player games, we can define this game using a single payoff matrix <span class="math inline">A \in \mathbb{R}^{m \times n}</span>, where <span class="math inline">u_1(i, j) = A_{i, j}</span>, <span class="math inline">u_2(i, j) = -A_{i, j}</span>.</p>
<p>Suppose player I players <span class="math inline">x^1</span>. They expected player II to use a strategy from their best response. Player II’s expected utility when playing <span class="math inline">j</span> is <span class="math inline">(-x^1)^TA_{.,j}</span>, where <span class="math inline">A_{.,j}</span> is the <span class="math inline">j</span>th column of <span class="math inline">A</span>. Player II looks for <span class="math inline">\max_{j^\prime} -(x^1)^T A_{.,j^\prime} = -\min_{j^\prime} (x^1)^T A_{.,j^\prime}</span>. This is also the overall expected utility. Since this a zero-sum game, the expected utility for player I is <span class="math inline">\min_{j^\prime} (x^1)^T A_{.,j^\prime}</span>. Player I wants to maximize this value.</p>
<p><span class="math display">\begin{aligned}
\max\ &amp;y\\
\text{s.t. } &amp;y \le (x^1)^T A_{.,j^\prime}\ &amp;\forall j^\prime \in \{1, ..., m\} \\
&amp;\sum_{i=1}^m x^1_i = 1 \\
&amp;x^1 \ge 0
\end{aligned}</span></p>
<p>For player II, we have a similar LP.</p>
<p><span class="math display">\begin{aligned}
\min\ &amp;y\\
\text{s.t. } &amp;(x^2)^T A_{i^\prime, .} \le y\ &amp;\forall i^\prime \in \{1, ..., n\} \\
&amp;\sum_{j=1}^n x^2_j = 1 \\
&amp;x^2 \ge 0
\end{aligned}</span></p>
<p>These LP are duals of each other, where both are feasible, so they have optimal solutions with equal value. The optimal solutions are best responses to each other, so they are a mixed Nash equilibrium.</p>
<p><strong>Theorem</strong>: Any 2-player zero-sum game has a mixed Nash equilibrium which can be efficiently computed.</p>
<h2 id="voting-game.">Voting Game.</h2>
<p>Suppose there are two candiates <span class="math inline">A, B</span>, with <span class="math inline">a, b</span> supporters respectively. Without loss of generality, assume <span class="math inline">a \ge b</span>. Voters gain utility 2 if the supporting candidate wins, 1 if they tie, 0 if they lose. Voters either abstain or vote with cost <span class="math inline">c</span>. Assume <span class="math inline">c \in (0, 1)</span>.</p>
<p>Example: <span class="math inline">a = b</span>.</p>
<blockquote>
<ol type="1">
<li>Everyone votes, <span class="math inline">1 - c</span> utility for all. Abstaining changes utility to <span class="math inline">0</span>, Nash equilibrium.</li>
<li>Not everyone votes but there is a tie. A voter who abstains will vote, changing utility from <span class="math inline">1</span> to <span class="math inline">2 - c</span>. Not a Nash equilibrium.</li>
<li>Candidate wins by <span class="math inline">1</span> vote. A voter who abstains will vote, changing utility from <span class="math inline">0</span> to <span class="math inline">1 - c</span>. Not a Nash equlibrium.</li>
<li>Candidate wins by <span class="math inline">\ge 2</span> votes. A voter who voted will abstain, changing utility from <span class="math inline">2 - c</span> to <span class="math inline">2</span>. Not a Nash equlibrium.</li>
</ol>
<p>So in a close election, more people vote.</p>
</blockquote>
<p>Example: Possible Mixed Nash equilibrium.</p>
<blockquote>
<p>Suppose <span class="math inline">b</span> of the supporters of <span class="math inline">A</span> vote. Suppose all supporters of <span class="math inline">B</span> vote with probability <span class="math inline">p</span>. The best that <span class="math inline">B</span> can do is a tie.</p>
<p>Consider a supporter of <span class="math inline">B</span>. if they abstain, <span class="math inline">B</span> loses with expected utility <span class="math inline">0</span>. Voting has expected utility <span class="math inline">p^{b-1}(1-c) + (1 - p^{b-1})(-c) = p^{b-1} - c</span>. In a mixed Nash equilibirum, <span class="math inline">0 = p^{b-1} - c</span>, so <span class="math inline">p = c^{\frac{1}{b-1}}</span>.</p>
</blockquote>
<h1 id="sperners-lemma">Sperner’s Lemma</h1>
<p>Finite set of vectors <span class="math inline">x^0, ..., x^n</span> are <em>affinely independent</em> if for <span class="math inline">\lambda_0, ..., \lambda_n \in \mathbb{R}</span>, <span class="math inline">\sum_{i=0}^n \lambda_i x^i = 0</span> and <span class="math inline">\mathbb{1}^T \lambda = 0</span> implies <span class="math inline">\lambda_0 = ... = \lambda_n = 0</span>.</p>
<p><em>Note</em>: This is the case if and only if <span class="math inline">x_0 - x_1, ..., x_0 - x_n</span> are <em>linearly independent</em>.</p>
<p>When <span class="math inline">x_0, ..., x_n</span> are <em>affinely independent</em> points, we call <span class="math inline">conv(\{x_0, ..., x_n\})</span> an <span class="math inline">n</span>-simplex. Let <span class="math inline">e^i</span> be the <span class="math inline">i</span>th <span class="math inline">n</span>-dimensional unit vector. We call the <span class="math inline">n</span>-simplex <span class="math inline">conv(\{e^0, ..., e^n\})</span> the <strong>standard <span class="math inline">n</span>-simplex</strong>.</p>
<p><strong>Definition</strong>: Simplical subdivision of an <span class="math inline">n</span>-simplex <span class="math inline">T</span> is a finite collection <span class="math inline">T_1, ..., T_q</span> of simplices such that <span class="math inline">\cup_{i=1}^q T_i = T</span>, and any two distict simplices either do not intersect, or intersect at a common face.</p>
<p>Given an <span class="math inline">n</span>-simplex <span class="math inline">T</span> and a simplical sub-division <span class="math inline">S</span>, let <span class="math inline">V</span> be the set of all extreme points. Then every <span class="math inline">v \in V</span> lies in <span class="math inline">T</span>, so it is representable as an convex combination of it’s extreme points. Let <span class="math inline">x(v) = \{i \in \{0, ..., n\} \mid \lambda_i &gt; 0\}</span> be the index set of vertices of <span class="math inline">T</span> needed in <span class="math inline">v</span>’s convex combination.</p>
<h2 id="labelling">Labelling</h2>
<p>We say that a function <span class="math inline">L: V \to \{0, ..., n\}</span> is a <strong>proper labelling</strong> of <span class="math inline">V</span> if <span class="math inline">L(v) \in x(v)</span> for all <span class="math inline">v \in V</span>. When <span class="math inline">L</span> assumes all <span class="math inline">n + 1</span> values of the vertices of <span class="math inline">T</span>, then <span class="math inline">T</span> is <strong>completely labelled</strong> by <span class="math inline">L</span>.</p>
<blockquote>
<p>Proof by induction on <span class="math inline">n</span>. When <span class="math inline">n = 0</span>, the statement is vacuously true. When <span class="math inline">n &gt; 0</span>, let us drop <span class="math inline">x^n</span> of <span class="math inline">T = conv(\{x^0, ..., x^n\})</span> and consider <span class="math inline">T^\prime = conv(\{x^0, ..., x^{n-1}\})</span>. This is a <span class="math inline">n-1</span>-simplex, so <span class="math inline">S^\prime = \{T_i \cap T^\prime \mid T_i \in S\}</span> is a simplical subdivision of <span class="math inline">T^\prime</span>. <span class="math inline">V^\prime</span> of <span class="math inline">S^\prime</span> are a subset of the vertices <span class="math inline">V</span> of <span class="math inline">S</span>, so a proper labelling of <span class="math inline">L</span> for <span class="math inline">V</span> is a proper labelling <span class="math inline">L^\prime</span> of <span class="math inline">V^\prime</span>. So <span class="math inline">S^\prime</span> has an odd number of completely labelled simplices by the hypothesis.</p>
<p>Assume that <span class="math inline">S</span> comsists of <span class="math inline">n</span>-simplices. Let <span class="math inline">F_i</span> represent these simplices, with <span class="math inline">F_i = conv(\{v_j \mid i \neq j\})</span> for <span class="math inline">i \in \{0, ..., n\}</span>. Let <span class="math inline">\mathbb{F}</span> represent the set of facets of simplices in <span class="math inline">S</span>, let <span class="math inline">\mathbb{F}_n</span> be those facets whose <span class="math inline">n</span> vertices have labels <span class="math inline">0, ..., n - 1</span>. We create a graph <span class="math inline">G_n</span> which has a vertex for every <span class="math inline">f \in F_n</span>, and an edge <span class="math inline">ff^\prime</span> if <span class="math inline">f, f^\prime \in F_n</span> are facets of a common simplex in <span class="math inline">S</span>.</p>
<p>We see that a simplex <span class="math inline">S</span> has a facet <span class="math inline">f \in F_n</span> has at most one <span class="math inline">f^\prime \in F_n</span>. So the maximum vertex degree is <span class="math inline">2</span>. Recall that we know <span class="math inline">S^\prime</span> of <span class="math inline">T^\prime</span> has an odd number of fully labelled sub-simplices, <span class="math inline">f_1, ..., f_{2p + 1} \in F_n</span>. These have degree <span class="math inline">1</span> in <span class="math inline">G_n</span>, so they must be the endpoint of a path in this graph. Let us partiton the paths <span class="math inline">P = P_1 \cup P_2</span> such that <span class="math inline">P_1</span> is the set of paths with both ending in <span class="math inline">\{f_1, ..., f_{2p+1}\}</span>. Then <span class="math inline">2p + 1 = 2|P_1| + |P_2|</span>, so it must be the case that <span class="math inline">|P_2|</span> is odd. Consider a path <span class="math inline">p \in P_2</span>, let <span class="math inline">f^\prime</span> be the endpoint whose corresponding facet does not lie on <span class="math inline">T^\prime</span>. Then the labels of <span class="math inline">f^\prime</span> are in <span class="math inline">\{0, ..., n-1\}</span>, so <span class="math inline">f^\prime</span> cannot be part of a facet of <span class="math inline">T</span> other than <span class="math inline">T^\prime</span>. So <span class="math inline">f^\prime</span> is a facet of a fully labelled simplex in <span class="math inline">S</span>. So there are an odd number of fully labelled simplices in <span class="math inline">S</span> that correspond to paths in <span class="math inline">P_2</span>.</p>
<p>There may be paths <span class="math inline">P_3</span> which do not end in <span class="math inline">\{f_1, ..., f_{2p + 1}\}</span>. This path must start and end in a distinct fully labelled simplex of <span class="math inline">S</span>. So the number <span class="math inline">2|P_3|</span> of such fully labelled simplices is even. <span class="math inline">G_n</span> may also have cycles <span class="math inline">C</span>, which do not touch fully labelled simplices of <span class="math inline">S</span>.</p>
<p>Since every fully labelled simpliex <span class="math inline">S</span> has exactly one of its facets in <span class="math inline">F_n</span>, every such simplex must correspond to the endpoint of a path in <span class="math inline">P_2 \cup P_3</span>. So the number of fully labbelled simplices in <span class="math inline">S</span> is <span class="math inline">|P_2| + 2|P_3|</span>, so odd.</p>
</blockquote>
<h1 id="brouwers-fixed-point-theorem">Brouwer’s Fixed Point Theorem</h1>
<p>Continuous function <span class="math inline">f: \Delta_m \to \Delta_m</span> has a fixed point <span class="math inline">z \in \Delta_m</span> such that <span class="math inline">f(z) = z</span>.</p>
<h1 id="nashs-theorem">Nash’s Theorem</h1>
<p>Every finite strategic game has a mixed Nash equilibirum.</p>
<blockquote>
<p>Given a mixed strategy profile <span class="math inline">x \in \Phi_{i \in N} \Delta_{|S_i| - 1} \to \Phi_{i \in N} \Delta_{|S_i| - 1}</span>, we define <span class="math inline">\Phi^i_{s_i}(x) = \max\{0, u_i(s_i, x^{-i}) - u_i(x)\}</span>. So <span class="math inline">\Phi^i_{s_i}(x)</span> is positive if and only if <span class="math inline">x^i</span> is the best response to <span class="math inline">x^{-i}</span>.</p>
</blockquote>
<p>We define <span class="math inline">f(x) = \overline{x}</span> where <span class="math inline">\overline{x} = \frac{x^i_{s_i} + \Phi^i_{s_i}(x)}{\sum_{s_i \in S_i}(x^i_{s_i} + \Phi^i_{s_i}(x))} = \frac{x^i_{s_i} + \Phi^i_{s_i}(x)}{1 + \sum_{s_i \in S_i} \Phi^i_{s_i}(x)}</span>.</p>
<p>Note that <span class="math inline">f</span> is continuous since <span class="math inline">\Phi^i_{s_i}</span> are continuous. So <span class="math inline">f</span> has a fixed point <span class="math inline">\hat{x}</span>. Consider a player <span class="math inline">i \in N</span> and let <span class="math inline">s_i \in S_i</span> be a pure strategy such that <span class="math inline">\hat{x}^i_{s_i} &gt; 0</span> and <span class="math inline">u_i(s_i, \hat{x}^{-i}) \le u_i(\hat{x})</span>. It follows that <span class="math inline">\Phi^i_{s_i}(x) = 0</span>, so it must be the case that <span class="math inline">\Phi^i_{s^\prime_i} = 0</span> for all <span class="math inline">i, s^\prime_i</span>. So <span class="math inline">\hat{x}^i</span> is a best response to <span class="math inline">\hat{x}^{-i}</span> for all <span class="math inline">i \in N</span>, so it is a mixed Nash equilibrium.</p>
<h1 id="mechanism-design">Mechanism Design</h1>
<blockquote>
<p>We want to design rules for games for rational players so that system-wide optimal goal is achieved</p>
</blockquote>
<h2 id="ideal-auctions">Ideal Auctions</h2>
<ul>
<li>Auctineed needs to decide who wins what item and who pays what amount.</li>
</ul>
<p><strong>Definition</strong>: An auction is <strong>dominant-strategy incentive compatible</strong> (DSIC) if truthful bidding is a dominant strategy, and yields non-negative utility for all players.</p>
<p><strong>Definition</strong>: <strong>Social welfare</strong> of a single item is <span class="math inline">\sum_{i \in N} v_i x_i</span>, <span class="math inline">x \in \{0, 1\}^N</span>, <span class="math inline">\sum_{i \in N}x_i = 1</span>. Auction is <strong>welfare-maximizing</strong> if truthful bidding maximizes social welfare.</p>
<p><strong>Definition</strong>: Auction is <strong>ideal</strong> if.</p>
<ol type="1">
<li>DSIC.</li>
<li>Welfare-maximizing.</li>
<li>Implemented efficiently.</li>
</ol>
<h2 id="sponsored-search-auctions">Sponsored Search Auctions</h2>
<p><span class="math inline">k \ge 1</span> slots for sponsored links. For every slot <span class="math inline">j</span>, <span class="math inline">a_j \in [0, 1]</span> is probability user clicks on ad. Assume <span class="math inline">a_1 \ge a_2 \ge ... \ge a_k</span>.</p>
<ol type="1">
<li>Assuming truthful bidding, how can we assign items that is welfare-maximizing and efficient?</li>
<li>Given the assignment, how do we set prices to obtain DSIC?</li>
</ol>
<p>Social welfare is <span class="math inline">\sum_{i \in N} v_i x_i</span>, where <span class="math inline">x_i = a_j</span> if slot <span class="math inline">j</span> assigned to player <span class="math inline">i</span>. Welfare-maximizing allocation is to assign slot <span class="math inline">j</span> to the <span class="math inline">j</span>-th highet valuation.</p>
<p>To get DSIC pricing, use Myerson’s Lemma.</p>
<blockquote>
<p><em>Aside</em>: Payment as the <span class="math inline">j+1</span>th highest bid is not DSIC. Player’s could switch to a lower slot with higher utility.</p>
</blockquote>
<h1 id="myersons-lemma">Myerson’s Lemma</h1>
<p><strong>Definition</strong>: Given a single parameter environment, <strong>direct revelation mechanism</strong>.</p>
<ol type="1">
<li>Collects bids <span class="math inline">b \in B \subseteq \mathbb{R}_+^N</span> from the bidders.</li>
<li>Chooses feasible allocation <span class="math inline">x(b) \in X</span> based on the bids.</li>
<li>Chooses payment <span class="math inline">p(b) \in \mathbb{R}_+^N</span> where bidder <span class="math inline">i</span> pays <span class="math inline">p_i(b)</span>.</li>
</ol>
<p><span class="math inline">x: B \to X</span> is an <strong>allocation rule</strong>, <span class="math inline">p: B \to \mathbb{R}_+^N</span> is a <strong>payment rule</strong>.</p>
<ul>
<li>Assume <span class="math inline">0 \le p_i(b) \le b_i x_i(b)</span> as part of condition to DSIC.</li>
</ul>
<h2 id="allocation-rules">Allocation Rules</h2>
<ol type="1">
<li><span class="math inline">x: B \to X</span> is <strong>implementable</strong> if there exists a payment rule <span class="math inline">p: B \to \mathbb{R}_+^N</span> such that <span class="math inline">(x, p)</span> is DSIC.</li>
<li>Allocation rule is <strong>monotone</strong> if for all <span class="math inline">i \in N</span> and <span class="math inline">b_{-i} \in B_{-i}</span>, <span class="math inline">x_i(y, b_{-i}) \ge x_i(z, b_{-i})</span> whenever <span class="math inline">y \ge z</span>.</li>
</ol>
<p><strong>Myerson’s Lemma</strong>: Fix a single parameter environment.</p>
<ul>
<li>Allocator rule is implementable if and only if it is monotone.</li>
<li>Given a monotone allocation, there exists unique payment rule <span class="math inline">p: B \to \mathbb{R}_+^N</span> such that <span class="math inline">(x, p)</span> is DSIC and <span class="math inline">p_i(b) = 0</span> if <span class="math inline">b_i = 0</span>.</li>
</ul>
<blockquote>
<p><span class="math inline">(\Rightarrow)</span> Assume <span class="math inline">x</span> is implementable. So there is payment rule <span class="math inline">p</span> such that <span class="math inline">(x, p)</span> is DISC. Fix player <span class="math inline">i</span>, <span class="math inline">b_{-i} \in B_{-i}</span>. Required to prove that <span class="math inline">y \ge z</span> implies <span class="math inline">x_i(y, b_{-i}) \ge x_i(z, b_{-i})</span>. Use <span class="math inline">x(y), p(y)</span> to represent <span class="math inline">x_i(y, b_{-i})</span> and <span class="math inline">p_i(y, b_{-i})</span>.</p>
<p><span class="math inline">(x, p)</span> is independent of player valuations, so DSIC for any possible valuation. So DSIC when player <span class="math inline">i</span>’s valuation is <span class="math inline">y</span>. So <span class="math inline">u(y) \ge u(z)</span>, <span class="math inline">y x(y) - p(y) \ge y x(z) - p(z)</span>. This also holds when player <span class="math inline">i</span>’s valuation is <span class="math inline">z</span>. So <span class="math inline">z x(z) - p(z) \ge z x(y) - p(y)</span>.</p>
<p>Combining inequalities we have <span class="math inline">z(x(y) - x(z)) \le p(y) - p(z) \le y(x(y) - x(z))</span>. Since <span class="math inline">z \le y</span>, <span class="math inline">z, y \ge 0</span>, we know <span class="math inline">x(y) - x(z) \ge 0</span>, so <span class="math inline">x(y) \ge x(z)</span>. So <span class="math inline">x</span> is monotone.</p>
<p><span class="math inline">(\Leftarrow)</span>. Assume <span class="math inline">x</span> is monotone. First show that there is only one possible payment rule under monotone and DSIC. Then show the payment rule is DSIC. Consider <span class="math inline">x</span> that is either piecewise constant, or differentiable.</p>
<p>Assume <span class="math inline">y &gt; x</span>. Suppose <span class="math inline">x</span> is piecewise constant with intervals <span class="math inline">[0, \overline{z}_1], (\overline{z}_1, \overline{z}_2], ..., (\overline{z_q}, \infty)</span>. Define <span class="math inline">h_j</span> to be the jump at <span class="math inline">\overline{z_j}</span>, <span class="math inline">h_j = \lim_{w \to \overline{z}_j^+} x(w) - x(\overline{z}_j)</span>. Fix <span class="math inline">z \in (\overline{z}_j, \overline{z}_{j+1})</span> for some <span class="math inline">j</span>. From payment sandwich, divide by <span class="math inline">y - z</span>.</p>
<p><span class="math display">z \frac{x(y) - x(z)}{y - z} \le \frac{p(y) - p(z)}{y - z} \le y \frac{x(y) - x(z)}{y - z}</span></p>
<p><span class="math inline">\lim_{y \to z^+} \frac{x(y) - x(z)}{y - z} = x^\prime(z) = 0</span> since <span class="math inline">x</span> is constant at <span class="math inline">z</span>. So both of the ends of the inequality approach <span class="math inline">0</span>, so <span class="math inline">\lim_{y\to z^+}\frac{p(y) - p(z)}{y - z} = p^\prime(z) = 0</span>. So <span class="math inline">p</span> is constant within every piece of <span class="math inline">x</span>.</p>
<p>Consider <span class="math inline">z = \overline{z}_j</span> for some <span class="math inline">j</span>. <span class="math inline">\lim_{y \to z^+} y(x(y) - x(z)) = z \cdot h_j</span>. Also, <span class="math inline">\lim_{y \to z^+}z(x(y) - x(z)) = z \cdot h_j</span>. So the payment jumps by <span class="math inline">\overline{z}_j h_j</span> and <span class="math inline">\overline{z}_j</span>. We assumed <span class="math inline">p(0) = 0</span>, so this is unique, <span class="math inline">p(z) = p_i(z, b_{-i}) = \sum_{k=1}^j \overline{z}_k h_k</span>.</p>
<p>Consider the case where <span class="math inline">x</span> is differentiable. <span class="math inline">p(z) = p(z) - p(0) = \int_{0}^z p^\prime(t) dt = \int_0^z t x^\prime(t) dt</span>.</p>
</blockquote>
<h2 id="applying-myersons-lemma">Applying Myerson’s Lemma</h2>
<ol type="1">
<li>Single-item Auction. Let <span class="math inline">x</span> be allocation where highest bidder gets the item. Monotone. Consider <span class="math inline">i</span>, fix <span class="math inline">b_{-i} \in B_{-i}</span> of all other bids. Let <span class="math inline">B = \max_{j \neq i} b_j</span>. Using Myerson’s Lemma, <span class="math inline">p_i(b_i, b_{-i}) = \begin{cases}0,\ &amp;b_i \le B \\ B,\ &amp;b_i &gt; B\end{cases}</span>. This is the second-price rule.</li>
<li>Sponsored search auction. <span class="math inline">k</span> slots with click-through rates <span class="math inline">\alpha_1 \ge \alpha_2 \ge ... \ge \alpha_k</span>. Allocation function assigns <span class="math inline">\alpha_i</span> to the bidder with the <span class="math inline">i</span>th highest bid. Welfare-maximing. Arrange the other bids by <span class="math inline">b_1 \ge b_2 \ge ... \ge b_k</span>. <span class="math inline">p(z) = \sum_{j: b_j &lt; z} b_j(\alpha_j - \alpha_{j+1})</span>.</li>
</ol>
<h2 id="hard-instances-of-welfare-maximization">Hard Instances of Welfare Maximization</h2>
<p>Example: Managing advertising slots, <span class="math inline">T</span> seconds to fill. <span class="math inline">N</span> potential advertisers where advertiser <span class="math inline">i</span> has ad of length <span class="math inline">t_i</span>, derives value <span class="math inline">v_i</span>. Run an auction to determine which players get their ads aired. The set of feasible allocations is <span class="math inline">X = \{x \in \{0, 1\}^N: \sum_{i \in N} t_i x_i \le T\}</span>. Social welfare is <span class="math inline">\sum_{i \in N} v_i x_i</span>. This is equivalent to binary knapsack problem, NP-hard. So requirements 2, 3 of ideal auction cannot simulatneously hold unless <span class="math inline">P = NP</span>.</p>
<blockquote>
<p>We relax condition 2 so that we have approximate welfare maximization while keeping efficiency.</p>
</blockquote>
<h2 id="monotone-approximation-for-knapsack">Monotone Approximation for Knapsack</h2>
<p>An approximation is to look for an items <em>value density</em>, which is the value divided by space or time. Sort items so that <span class="math inline">\frac{v_1}{t_1} \ge ... \ge \frac{v_n}{t_n}</span>.</p>
<p>One possible algorithm is to fill with the largest index until the bag is full. This does not work well in general. Consider <span class="math inline">v_1 = t_1 = 1</span>, <span class="math inline">v_2 = T - 1</span>, <span class="math inline">t_2 = T</span>. Algorithm returns <span class="math inline">\{1\}</span> with value <span class="math inline">1</span> but a better solution is <span class="math inline">\{2\}</span> with value <span class="math inline">T-1</span>.</p>
<p><strong>Refinement</strong>: Still pick <span class="math inline">i</span>, but if <span class="math inline">V_{i+1} &gt; v_1 + ... + v_i</span>&lt; then return <span class="math inline">\{i+1\}</span> instead of <span class="math inline">S</span>.</p>
<ol type="1">
<li><span class="math inline">N = \{1, ..., n\}</span>, <span class="math inline">\frac{v_i}{t_i} \ge \frac{v_j}{t_j}</span> whenever <span class="math inline">i &lt; j</span>. Let <span class="math inline">i</span> be largest index where <span class="math inline">t_1 + ... + t_i \le T</span>. <span class="math inline">S = \{1, ..., i\}</span>.</li>
<li>If <span class="math inline">\sum_{j=1}^i v_j \ge v_{i+1}</span>, return <span class="math inline">S</span>. Otherwise, return <span class="math inline">\{i+1\}</span>.</li>
</ol>
<p>Suppose <span class="math inline">OPT</span> is optimal value of knapsack problem, <span class="math inline">APX</span> is approximate.</p>
<p><strong>Theorem</strong>: <span class="math inline">APX \ge \frac{1}{2}OPT</span>.</p>
<blockquote>
<p>Consider LP relaxation, <span class="math inline">\max\{v_1x_1 + ... + v_n x_n: t_1x_1 + ... + t_n x_n \le T, 0 \le x \le 1\}</span>. Then solution <span class="math inline">x_1, ..., x_i = 1</span>, <span class="math inline">x_{i+1} = \frac{T - t_1 - ... - t_i}{t_{i+1}}</span>, <span class="math inline">x_{i+2} = ... = x_n = 0</span> is optimal. Let <span class="math inline">v*</span> be the optimal value. Then <span class="math inline">OPT \le v^*</span>. We will show <span class="math inline">APX \ge \frac{1}{2} v^*</span>.</p>
<ol type="1">
<li>If <span class="math inline">v(S) \ge v_{i+1}</span>, then <span class="math inline">APX = v(S)</span>. Then <span class="math inline">v^* \le v(S) + v_{i+1} \le 2 V(S) = 2 APX</span>.</li>
<li>If <span class="math inline">v(S) &lt; v_{i+1}</span>, then <span class="math inline">APX = v_{i+1}</span>. Then <span class="math inline">v^* \le v(S) + v_{i+1} \le 2 v_{i+1} = 2APX</span>.</li>
</ol>
</blockquote>
<p>The allocation is monotone so there is payment rule that is DSIC. Allocation has one jump from <span class="math inline">0</span> to <span class="math inline">1</span> at soem point, say <span class="math inline">\overline{b}_j</span>. Payment for winning is <span class="math inline">\overline{b}_j</span>. To find <span class="math inline">\overline{b}_j</span>, brute force test out different values.</p>
<h1 id="vgc-mechanism">VGC Mechanism</h1>
<blockquote>
<p>Look at payment rules from a different angle.</p>
</blockquote>
<ol type="1">
<li>Single-item Auction. For a player <span class="math inline">i</span>, we look at the total value received by other players when <span class="math inline">i</span> isin the auction and when <span class="math inline">i</span> is not in the auction. If player <span class="math inline">i</span>’s bid does not win, total value received by other players is the same. If player <span class="math inline">i</span>s bid wins, sum of value <span class="math inline">0</span> for others. But if player <span class="math inline">i</span> is not in ht eauction, player with the 2nd highest bid wins. Total loss of value is the 2nd highest bid. This is equal to our payment rule.</li>
</ol>
<h2 id="general-mechanism-design-elements">General Mechanism Design Elements</h2>
<ul>
<li><span class="math inline">n</span> players.</li>
<li>Finite set of outcomes <span class="math inline">\Omega</span>.</li>
<li>Player <span class="math inline">i</span> has private valuations <span class="math inline">v_i(\omega)</span> for every outcome <span class="math inline">w \in \Omega</span>.</li>
</ul>
<p><strong>Theorem</strong>: In every general mechanism design environment, there is a DSIC welfare-maximizing mechanism.</p>
<blockquote>
<p>Suppose we are given bids <span class="math inline">b_1, ..., b_n</span>, every bid indexed by <span class="math inline">\omega</span>. Allocation that is welfare-maximizing is <span class="math inline">x(b) = arg \max_{\omega \in \Omega} \sum_{i=1}^n b_i(w)</span>, the outcome <span class="math inline">\omega \in Omega</span> that gives the highest sum of values. Payment rule is <span class="math inline">p_i(b) = \max_{\omega \in \Omega} \sum_{j \neq i} b_j(w) - \sum_{j \neq i} b_j(\omega^*)</span>, where <span class="math inline">\omega^* = x(b)</span>.</p>
<p>We claim that <span class="math inline">(x, p)</span> is DSIC. Prove that bidding truthfully is a dominant strategy. For <span class="math inline">i, b_{-i}</span>. When we pick an outcome <span class="math inline">x(b) = \omega^*</span>, the utility for player <span class="math inline">i</span> is <span class="math inline">v_i(\omega^*) - p_i(b) = \left[v_i(\omega^*) + \sum_{j \neq i}b_j(\omega^*)\right] - \left[\max_{\omega \in \Omega} \sum_{j \neq i} b_j(\omega)\right]</span>. The first term is the thing we maximize, the second is a constant value since <span class="math inline">i</span> is not in the auction.</p>
<p>Consider arbitrary <span class="math inline">\omega^*</span> chosen as the allocation. The allocation <span class="math inline">x(b)</span> maximizes <span class="math inline">\sum_{i=1}^n b_j(\omega^*) = b_i(\omega^*) + \sum_{j \neq i} b_j(\omega^*)</span>. So the first term is maximized when <span class="math inline">b_i(\omega^*) = v_i(\omega^*)</span>. So we get maximum utility by bidding truthfully.</p>
</blockquote>
<h1 id="cooperative-games">Cooperative Games</h1>
<p><strong>Definition</strong>: <strong>Cooperative game</strong> is given by a set of <span class="math inline">N</span> players, and characteristic function <span class="math inline">v: 2^N \to \mathbb{R}</span> that assigns a value <span class="math inline">v(S)</span> for every <strong>coalition</strong> <span class="math inline">S \subseteq N</span>. The set <span class="math inline">N</span> is called the <strong>grand coalition</strong>.</p>
<p>Assume that <span class="math inline">v(\emptyset) = 0</span>, and <span class="math inline">v(S) \ge 0</span>.</p>
<p>The definition does not tell us how value is distributed within a group. How do we distribute the value to achieve certain goals?</p>
<h4 id="ice-cream">Ice Cream</h4>
<p>Example: Ice cream. <span class="math inline">P, S, G</span> want to buy ice cream. 3 sizes of ice cream, <span class="math inline">1, 1.5, 2</span> which sosts <span class="math inline">7, 9, 11</span> respectively. <span class="math inline">P</span> has <span class="math inline">3</span>, <span class="math inline">S</span> has <span class="math inline">4</span>, <span class="math inline">G</span> has <span class="math inline">5</span>.</p>
<table>
<thead>
<tr class="header">
<th>S</th>
<th><span class="math inline">\emptyset, \{P\}, \{S\}, \{G\}</span></th>
<th><span class="math inline">\{P, S\}</span></th>
<th><span class="math inline">\{P, G\}</span></th>
<th><span class="math inline">\{S, G\}</span></th>
<th><span class="math inline">\{P, S, G\}</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">v(S)</span></td>
<td><span class="math inline">0</span></td>
<td><span class="math inline">1</span></td>
<td><span class="math inline">1</span></td>
<td><span class="math inline">1.5</span></td>
<td><span class="math inline">2</span></td>
</tr>
</tbody>
</table>
<p>Example: In a matching game, we have a graph <span class="math inline">G = (V, E)</span> and weights <span class="math inline">w: E \to \mathbb{R}_+</span>. Players are the vertices, for any subset <span class="math inline">S \subseteq N</span>, the value is the maximum weight of any matching inside <span class="math inline">S</span>.</p>
<h2 id="outcomes-of-coop-games">Outcomes of Coop Games</h2>
<ul>
<li><strong>Strategic games</strong>: strategy profiles (pure or mixed).</li>
<li><strong>Cooperative games</strong>.
<ul>
<li>Partition the players into coalitions (<em>coalition structure</em>).</li>
<li>Distribute the value of a group fo its members (<em>payoff vector</em>).</li>
</ul></li>
</ul>
<p><strong>Definition</strong>: Given a coop game <span class="math inline">(N, v)</span>, a <strong>coalition structure</strong> is a partition <span class="math inline">\pi</span> of <span class="math inline">N</span>, <span class="math inline">\pi = (c_1, ..., c^k)</span>, <span class="math inline">c_i \subseteq N</span>, <span class="math inline">c^i \cap c^j = \emptyset</span> when <span class="math inline">i \neq j</span>, and <span class="math inline">c^1 \cup ... \cup c^k = N</span>. A <strong>payoff vector</strong> <span class="math inline">x \in \mathbb{R}_+^N</span> such that <span class="math inline">\sum_{i \in c^j} x_i = x(c^j) \le v(c^j)</span> for every <span class="math inline">j \in \{1, ..., k\}</span>. An outcome consists of <span class="math inline">(\pi, x)</span>. It is <strong>efficient</strong> if <span class="math inline">x(c^j) = v(c^j)</span> for every <span class="math inline">j \in \{1, ..., k\}</span>.</p>
<p>Example: An outcome for the <a href="#ice-cream">ice cream game</a> is <span class="math inline">\pi = (\{P\}, \{S, G\})</span>, <span class="math inline">X(P) = 0</span>, <span class="math inline">X(S) = 0.7</span>, <span class="math inline">X(G) = 0.8</span>. This is efficient.</p>
<h2 id="classes-of-coop-games">Classes of Coop Games</h2>
<ol type="1">
<li><strong>Monotone Games</strong>: <span class="math inline">S \subseteq T \Rightarrow v(S) \le v(T)</span>. More people produce more value.</li>
<li><strong>Superadditive Games</strong>: For disjoint <span class="math inline">S, T</span>, <span class="math inline">v(S) + v(T) \le v(S \cup T)</span>. Superadditive implies monoticity.</li>
<li><strong>Convex Games</strong>: For <span class="math inline">S, T \subseteq N</span>, <span class="math inline">v(S) + v(T) \le v(S \cup T) + v(S \cap T)</span>, <strong>supermodularity</strong>. Convexity implies superadditivity.</li>
</ol>
<p><strong>Proposition</strong>: A game <span class="math inline">(N, v)</span> is convex if and only if for every <span class="math inline">S, T</span> where <span class="math inline">S \subseteq T \subseteq N</span> and every player <span class="math inline">i \in N</span>, <span class="math inline">v(T \cup \{i\}) - v(t) \ge v(S \cup \{i\}) - v(S)</span>.</p>
<h2 id="solution-concepts">Solution Concepts</h2>
<blockquote>
<p>What do we want as an outcome in a cooperative game?</p>
</blockquote>
<ol type="1">
<li>Fairness. Payoff vector should reflect contribution of the players to the overall value.</li>
<li>Stability. Incentivize players to remain in their assigned coalitions in the coalition structure.</li>
</ol>
<h2 id="shapley-values">Shapley Values</h2>
<p>Shapley values deal with the fairness of payoff vectors. Assume the players form the grand coalition. How do we quantify contributions? Compare the value of the coalition before and after a player joins it.</p>
<p>Example: Contribution of <span class="math inline">G</span> is the difference between <span class="math inline">v(\{P, S\})</span> and <span class="math inline">v(\{P, S, G\})</span>.</p>
<p>The total contribution may exceed total value. Look at all possible ordering, average the contribution.</p>
<p><strong>Notation</strong>: Permutation <span class="math inline">\sigma</span> of <span class="math inline">N</span> has the form <span class="math inline">(\sigma_1, ..., \sigma_n)</span> where every <span class="math inline">\sigma_i</span> is a distinct member of <span class="math inline">N</span> (or a bijection between <span class="math inline">N</span> and <span class="math inline">N</span>). The set of all permutations of <span class="math inline">N</span> is <span class="math inline">S_N</span>. Given <span class="math inline">\sigma \in S_N</span>, <strong>marginal contribution</strong> of player <span class="math inline">\sigma_i</span>.</p>
<p><span class="math display">\Delta_\sigma (\sigma_i) = v(\{\sigma_1, ..., \sigma_i\}) - v(\{\sigma_1, ..., \sigma_{i-1})</span></p>
<p><strong>Definition</strong>: The <strong>Shapley value</strong> of player <span class="math inline">i</span> is <span class="math inline">\phi_i = \frac{1}{n!}\sum_{\sigma \in S_N}\Delta_\sigma(i)</span>.</p>
<p>Example: Calculate <span class="math inline">\phi_P</span> in the <a href="#ice-cream">ice cream game</a>.</p>
<blockquote>
<p><span class="math inline">S_n = \{\sigma_1 = (P, S, G), \sigma_2 = (P, G, S), \sigma_3 = (S, P, G), \sigma_4 = (S, G, P), \sigma_5 = (G, P, S), \sigma_6 = (G, S, P)\}</span>.</p>
<p><span class="math inline">\begin{aligned} \Delta_{\sigma_1}(P) &amp;= v(\{P\}) - v(\emptyset) = 0 \\ \Delta_{\sigma_2}(P) &amp;= v(\{P\}) - v(\emptyset) = 0 \\ \Delta_{\sigma_3}(P) &amp;= v(\{S, P\}) - v(\{S\}) = 1 \\ \Delta_{\sigma_4}(P) &amp;= v(\{S, G, P\}) - v(\{S, G\}) = 0.5 \\ \Delta_{\sigma_5}(P) &amp;= v(\{G, P\}) - v(\{G\}) = 1 \\ \Delta_{\sigma_6}(P) &amp;= v(\{G, S, P\}) - v(\{G, S\}) = 0.5 \\ \end{aligned}</span></p>
<p>So <span class="math inline">\phi_P = \frac{1}{2}</span>.</p>
</blockquote>
<h3 id="properties-of-shapley-values">Properties of Shapley Values</h3>
<ol type="1">
<li>Efficiency: Sum of player payoffs is equal to toal value.</li>
</ol>
<blockquote>
<p>For any <span class="math inline">\sigma \in S_N</span>, sum of all marginal contributions of all players is <span class="math inline">v(N)</span>.</p>
<p><span class="math display">\begin{aligned}
\sum_{i=1}^n \Delta_{\sigma}(i) &amp;= \sum_{i=1}^n \Delta_{\sigma} (\sigma_i) \\ 
&amp;= [v(\{\sigma_1\}) - v(\emptyset)] + [v(\{\sigma_1, \sigma_2\}) - v(\{\sigma_1\})] + ... \\
&amp;= v(\{\sigma_1, ..., \sigma_n\}) - v(\emptyset) \\
&amp;= v(N)
\end{aligned}</span></p>
<p>So the sum of all players’ maginal contributions over all permutations is <span class="math inline">n! v(N)</span>. So Shapley value is <span class="math inline">v(N)</span>.</p>
</blockquote>
<ol start="2" type="1">
<li>Dummy player. Player <span class="math inline">i</span> is a dummy player if <span class="math inline">v(s \cup \{i\}) = v(s)</span> for all <span class="math inline">S \subseteq N</span>. If <span class="math inline">i</span> is a dummy player, then <span class="math inline">\phi_i = 0</span>.</li>
</ol>
<blockquote>
<p>For any permutation <span class="math inline">\sigma \in S_N</span>, say <span class="math inline">i</span>, then <span class="math inline">\Delta_\sigma(i) = v(\{\sigma_1, ..., \sigma_{j-1}, i\}) - v(\{\sigma_1, ..., \sigma_{j-1}) = 0</span>. So <span class="math inline">\phi_i = 0</span>.</p>
</blockquote>
<ol start="3" type="1">
<li>Symmetric. Two players <span class="math inline">i, j</span> are <strong>symmetric</strong> if <span class="math inline">v(c \cup \{i\}) = v(c \cup \{j\})</span>, for all <span class="math inline">C \subseteq N \setminus \{i, j\}</span>. If <span class="math inline">i, j</span> are symmetric players, then <span class="math inline">\phi_i = \phi_j</span>.</li>
</ol>
<blockquote>
<p>Define <span class="math inline">f: S_N \to S_N</span> where <span class="math inline">f(\sigma)</span> swaps the positions of <span class="math inline">i, j</span>. This is a bijection. We claim that <span class="math inline">\Delta_\sigma(i) = \Delta_{f(\sigma)}(j)</span>.</p>
<p>Suppose <span class="math inline">i</span> precedes <span class="math inline">j</span> in <span class="math inline">\sigma</span>. Let <span class="math inline">c</span> be all elements preceding <span class="math inline">i</span>. Then <span class="math inline">\Delta_\sigma(i) = v(c \cup \{i\}) - v(c)</span>. <span class="math inline">\Delta_{f(\sigma)}(j) = v(c \cup \{j\}) - v(c)</span>. <span class="math inline">c</span> does not contain <span class="math inline">i, j</span>. By symmetry, <span class="math inline">v(c \cup \{i\}) = v(c \cup \{j\})</span>. So <span class="math inline">\Delta_\sigma(i) = \Delta_{f(\sigma)}(j)</span>.</p>
<p>Suppose <span class="math inline">j</span> precedes <span class="math inline">i</span> in <span class="math inline">\sigma</span>. Let <span class="math inline">c</span> be all elements preceding <span class="math inline">i</span> in <span class="math inline">\sigma</span> except for <span class="math inline">j</span>. Then <span class="math inline">\Delta_\sigma(i) = v(c \cup \{i, j\}) - v(c \cup \{i\})</span>. <span class="math inline">\Delta_{f(\sigma)}(i) = v(c \cup \{i, j\}) - v(c \cup \{i\})</span>. So <span class="math inline">\Delta_\sigma(i) = \Delta_{f(\sigma)}(j)</span> by symmetry.</p>
<p><span class="math display">\begin{aligned}
\phi_i &amp;= \frac{1}{n!}\sum_{\sigma \in S_n} \Delta_\sigma(i) \\
&amp;= \frac{1}{n!} \sum_{\sigma \in S_n} \Delta_{f(\sigma)}(j) \\
&amp;= \frac{1}{n!} \sum_{\sigma \in S_n} \Delta_\sigma(j) \\
&amp;= \phi_j
\end{aligned}</span></p>
</blockquote>
<ol start="4" type="1">
<li>Additivity. Let <span class="math inline">(N, v^1)</span>, <span class="math inline">(N, v^2)</span> be two cooperative games with the same player set <span class="math inline">N</span>. Define <span class="math inline">(N, v^3)</span> by <span class="math inline">v^3(c) = v^1(c) + v^2(c)</span> for all <span class="math inline">c \subseteq N</span>. Let <span class="math inline">\phi_i^3</span> be the shapley value for player <span class="math inline">i</span> in <span class="math inline">(N, v^3)</span>. Then <span class="math inline">\phi_i^3 = \phi_i^1 + \phi_i^2</span> for all <span class="math inline">i \in N</span>.</li>
</ol>
<blockquote>
<p><span class="math display">\begin{aligned}
\Delta_\sigma^3(i) &amp;= v^3(\{\sigma_1, ..., \sigma_{i - 1}, \sigma_i\}) - v^3(\{\sigma_1, ..., \sigma_{i-1}\}) \\
&amp;= v^1(\{\sigma_1, ..., \sigma_{i - 1}, \sigma_i\}) - v^1(\{\sigma_1, ..., \sigma_{i-1}\}) + v^2(\{\sigma_1, ..., \sigma_{i - 1}, \sigma_i\}) - v^2(\{\sigma_1, ..., \sigma_{i-1}\})\\
&amp;= \Delta_\sigma^1(i) + \Delta_\sigma^2(i) \\
\ \\
\phi^3_i &amp;= \frac{1}{n!} \sum_{\sigma \in S_n} \Delta^3_\sigma(i) \\
&amp;= \frac{1}{n!} \sum_{\sigma \in S_n} \left[\Delta^1_\sigma(i) + \Delta^2_\sigma(i)\right] \\
&amp;= \frac{1}{n!} \sum_{\sigma \in S_n} \Delta^1_\sigma(i) + \frac{1}{n!} \sum_{\sigma \in S_n} \Delta^2_\sigma(i) \\
&amp;= \phi^1_i + \phi^2_i
\end{aligned}</span></p>
</blockquote>
<p>Example: Unanimity game. <span class="math inline">|N| = n</span>, <span class="math inline">v(N) = 1</span>, <span class="math inline">v(c) = 0</span> for all <span class="math inline">c \subsetneq N</span>. Any pair of players is symemtric. Since it is efficient, the sum of shapley values is <span class="math inline">1</span>. So <span class="math inline">\phi_i = \frac{1}{n}</span> for all <span class="math inline">i \in N</span>.</p>
<h1 id="core">Core</h1>
<p>We want an outcome <span class="math inline">(\pi, x)</span> that is stable, no group is incentivized to deviate from their assigned coalition. Given <span class="math inline">(\pi, x)</span> a coalition <span class="math inline">c</span> not in <span class="math inline">\pi</span> is more likely to break away if <span class="math inline">x(c) &lt; v(c)</span>.</p>
<p><strong>Definition</strong>: <strong>Core</strong> consists of all outcomes <span class="math inline">(\pi, x)</span> such that <span class="math inline">x(c) \ge v(c)</span> for any <span class="math inline">c \subseteq N</span>.</p>
<p>Example: <a href="#ice-cream">Ice cream game</a>. Assume <span class="math inline">(\pi, x)</span> is in the core. Assume that <span class="math inline">\pi</span> has at least 2 parts. Then at least one part is a single player with value of <span class="math inline">0</span>. The player has <span class="math inline">x</span> value 0, so <span class="math inline">x(N) \le 1.5</span>, but <span class="math inline">v(N) = 2</span>, so <span class="math inline">\pi</span> cannot have more than 1 part. So <span class="math inline">\pi = (N)</span>. The payoff <span class="math inline">x</span> must satisfy <span class="math inline">x(c) \ge v(c)</span> for all <span class="math inline">c \subseteq N</span> and <span class="math inline">x(N) = v(N)</span>. If <span class="math inline">x = (x_P, x_S, x_G)</span>, then <span class="math inline">x_P + x_S + x_G = 2</span>, <span class="math inline">x_P, x_S, x_G \ge 0</span>, <span class="math inline">x_P + x_S \ge 1</span>, <span class="math inline">x_P + x_G \ge 1</span>, <span class="math inline">x_S + x_G \ge 1.5</span>.</p>
<h2 id="core-properties">Core Properties</h2>
<ol type="1">
<li>Efficient within its coalitions. If <span class="math inline">(\pi, x)</span> is in the core of <span class="math inline">(N, v)</span>, then <span class="math inline">v(c) = x(c)</span> for all <span class="math inline">c \in \pi</span>.</li>
</ol>
<blockquote>
<p>By definition of a core, <span class="math inline">x(c) \ge v(c)</span>. Since <span class="math inline">(\pi, x)</span> is valid, <span class="math inline">x(c) \le v(c)</span>. So <span class="math inline">x(c) = v(g)</span>.</p>
</blockquote>
<ol start="2" type="1">
<li>The core is welfare-maximizing, the sum of coalition values is maximum. If <span class="math inline">(\pi, x)</span> is in the core of <span class="math inline">(N, v)</span>, then <span class="math inline">v(\pi) \ge v(\pi^\prime)</span> for any partition <span class="math inline">\pi^\prime</span> of <span class="math inline">N</span>.</li>
</ol>
<blockquote>
<p>Since <span class="math inline">(\pi, x)</span> is in the core, <span class="math inline">x(c^\prime) \ge v(c^\prime)</span> for any <span class="math inline">c^\prime \in \pi^\prime</span> (<span class="math inline">x(c) \ge v(c)</span> for any <span class="math inline">c \subseteq N</span>). So <span class="math inline">\sum_{c^\prime \in \pi^\prime} x(c^\prime) \ge \sum_{c^\prime \in \pi^\prime} v(c^\prime) = v(\pi^\prime)</span>. We also know that the sum over all <span class="math inline">x(c^\prime)</span> is the same regardless of the partition, so <span class="math inline">\sum_{c^\prime \in \pi^\prime} x(c^\prime) = \sum_{c \in \pi} x(c) = \sum_{c \in \pi} v(c) = v(\pi)</span>. So <span class="math inline">v(\pi) \ge v(\pi^\prime)</span>.</p>
</blockquote>
<ol start="3" type="1">
<li>There are games with empty cores.</li>
</ol>
<blockquote>
<p>3-player majority game. <span class="math inline">N = \{1, 2, 3\}</span>. <span class="math inline">v(S) = \begin{cases}1,\ &amp;|S| \ge 2 \\0,\ &amp;|S| \ge 1\end{cases}</span>. Suppose <span class="math inline">(\pi, x)</span> is a core. Since <span class="math inline">v(N) = 1</span>, <span class="math inline">x_1 + x_2 + x_3 \ge 1</span>, <span class="math inline">x_1, x_2, x_3 \ge 0</span>. So at least one <span class="math inline">x_i \ge \frac{1}{3}</span>. The total value of any coalition structure is at most <span class="math inline">1</span>, so <span class="math inline">x_1 + x_2 + x_3 \le 1</span>. <span class="math inline">x(N \setminus \{i\}) \le \frac{2}{3}</span>. <span class="math inline">v(N \setminus \{i\}) = 1</span>. Contradiction.</p>
</blockquote>
<h2 id="cores-of-superadditive-games">Cores of Superadditive Games</h2>
<blockquote>
<p><span class="math inline">V(S \cup T) \ge V(S) + V(T)</span>, for disjoint <span class="math inline">S, T \subseteq N</span>.</p>
</blockquote>
<p>Players want to form the grand coalition, but not all cores consist of only the frand coalition. We claim that the question of existence of cores can be answered by looking at the grand coalition.</p>
<p><strong>Strict superadditive case</strong>: <span class="math inline">v(S \cup T) &gt; v(S) + v(T)</span> for disjoint, non-empty <span class="math inline">S, T \subseteq N</span>.</p>
<blockquote>
<p>Suppose <span class="math inline">(\pi, x)</span> is a core where <span class="math inline">\pi</span> is not the grand coalition. Say <span class="math inline">c^1, c^2 \in \pi</span>. Then <span class="math inline">x(c^1) + x(c^2) = x(c^1 \cup c^2) \ge v(c^1 \cup c^2) &gt; v(c^1) + v(c^2)</span>. This is a contradiction because <span class="math inline">x(c^i) = v(c^i)</span>. So for strict superadditive game if a core exists, it has the form <span class="math inline">((N), x)</span>.</p>
</blockquote>
<p><strong>Superadditive case</strong>. If <span class="math inline">(\pi, x)</span> is in the core, then <span class="math inline">((N), x)</span> is also in the core.</p>
<blockquote>
<p>Since <span class="math inline">(\pi, x)</span> is in the core, <span class="math inline">x(c) \ge v(c0</span> for all <span class="math inline">c \subseteq N</span>. We need to verify that <span class="math inline">((N), x)</span> is a vlaid outcome, so <span class="math inline">x(N) \le v(N)</span>. <span class="math inline">x(N) = \sum_{c \in \pi}x(c) = \sum_{c \in \pi} v(c) \le v(N)</span>.</p>
</blockquote>
<p>We only need to look at the payoff vector in the core. This is the polyhedron <span class="math inline">C = \{x \in \mathbb{R}_+^N: x(N) = v(N), x(c) \ge v(c) \forall c \subseteq N\}</span>.</p>
<ul>
<li>Non-superadditive games may not have <span class="math inline">(N)</span> in the core.</li>
</ul>
<p>Example: <span class="math inline">N = \{1, 2, 3, 4\}</span>. <span class="math inline">v(S) = 1</span> if <span class="math inline">|S| \ge 2</span>, <span class="math inline">0</span> otherwise. <span class="math inline">v(N) = 1</span> is not max value, since <span class="math inline">\pi = (\{1, 2\}, \{3, 4\})</span>, <span class="math inline">v(\pi) = 2</span>. So <span class="math inline">(N)</span> is not in the core.</p>
<p><strong>Definition</strong>: For any <span class="math inline">(N, v)</span>, its <strong>superadditive cover</strong> is <span class="math inline">(N, v^*)</span>, where for every <span class="math inline">S \subseteq N</span>, <span class="math inline">v^*(S) = \max \{v(\pi): \pi \text{ is a partition of } S\}</span>.</p>
<p>Example: <span class="math inline">v^*(N) = 2</span>.</p>
<p><strong>Proposition</strong>: Game <span class="math inline">(N, v)</span> has a non-empty core if and only if its superadditive cover <span class="math inline">(N, v^*)</span> has a non-empty core.</p>
<blockquote>
<p><span class="math inline">(\Rightarrow)</span> Suppose <span class="math inline">(\pi, x)</span> is in the core of <span class="math inline">(N, v)</span>. We claim that it is in the core of <span class="math inline">(N, v^*)</span>. Required to show that <span class="math inline">x(c) \ge v^*(c)</span> for all <span class="math inline">c \subseteq N</span>.</p>
<p>Let <span class="math inline">\pi^\prime = argmax \{v(\pi^\prime): \pi^\prime \text{ is a partition of } c\}</span>. <span class="math inline">v^*(c) = v(\pi^\prime) = \sum_{c^\prime \in \pi^\prime} v(c^\prime) \le \sum_{c^\prime \in \pi^\prime} x(c^\prime) = x(c)</span>. So <span class="math inline">(\pi, x)</span> is in the core of <span class="math inline">(N, v^*)</span>.</p>
<p><span class="math inline">(\Leftarrow)</span>: Suppose <span class="math inline">(N, v^*)</span> has a non-empty core. Superadditive game, so <span class="math inline">((N), x)</span> is in the core. So <span class="math inline">x(N) \le v^*(N)</span>, let <span class="math inline">\pi</span> represent the partition such that <span class="math inline">v^*(N) = v(\pi)</span>. We claim that <span class="math inline">(\pi, x)</span> is in the core of <span class="math inline">(N, v)</span>. <span class="math inline">\sum_{c \in \pi} x(c) = x(N) \le v^*(N) = v(\pi)</span>, so it is a feasible allocation. Consider <span class="math inline">c \subseteq N</span>. <span class="math inline">x(c) \ge v^*(c) \ge v(c)</span>, so <span class="math inline">(\pi, x)</span> is in the core of <span class="math inline">(N, v)</span>.</p>
</blockquote>
<h2 id="cores-of-convex-games">Cores of Convex Games</h2>
<blockquote>
<p><span class="math inline">V(S \cup T) + v(S \cap T) \ge v(S) + v(T)</span>, for any <span class="math inline">S, T \subseteq N</span>.</p>
</blockquote>
<p><strong>Proposition</strong>: Convex games have a non-empty core.</p>
<blockquote>
<p>Convex games are supperadditive, so it suffices to find <span class="math inline">x</span> such that <span class="math inline">x(N) = v(N)</span>, <span class="math inline">x(c) \ge v(c)</span> for all <span class="math inline">c \subseteq N</span>. Let <span class="math inline">\sigma \in S_N</span>. Without loss of generality, assume <span class="math inline">\sigma = (1, 2, ..., n)</span>. Define <span class="math inline">x_i = \Delta_\sigma(i)</span>. We proved <span class="math inline">x(N) = v(N)</span> in a Shapley value proof. Let <span class="math inline">c \subseteq N</span>, say <span class="math inline">C = \{i_1,..., i_k\}</span>. Without loss of generality assume <span class="math inline">i_1 &lt; ... &lt; i_k</span>. <span class="math inline">v(c) = [v(\{i_1\}) - v(\emptyset)] + v(\{i_1, i_2\}) - v(\{i_1\})] + ...</span>.</p>
<p>We want to show that the <span class="math inline">j</span>th term is at most <span class="math inline">\Delta_\sigma(i_j) = v(\{1, ..., i_j\}) - v(\{1, ..., i_{j} - 1\})</span>. Using supermodularity, <span class="math inline">v(\{i_1, ..., i_j\}) + v(\{1, ..., i_j - 1\}) \le v(\{1, ..., i_j\}) + v(\{1, ..., i_{j-1}\})</span>. So <span class="math inline">x_{i_j} = v(\{1, ..., i_j\}) - v(\{1, ..., i_j - 1\}) \ge v(\{i_1, ..., i_j\}) - v(\{i_i, ..., i_{j-1}\})</span>, So <span class="math inline">v(c) \le x_{i_1} + ... + x_{i_k} = x(c)</span>.</p>
</blockquote>
<h1 id="matching-games">Matching Games</h1>
<p><span class="math inline">N</span> players, played on a graph <span class="math inline">G = (N, E)</span>. Let <span class="math inline">w_e \ge 0</span> be a weight for every edge in <span class="math inline">E</span>. The value <span class="math inline">v(S)</span> of <span class="math inline">S \subseteq N</span> is the maximum weight of a matching using vertices in <span class="math inline">S</span>. This is superadditive, so we only need to look at the grand coalition. <span class="math inline">((N), x)</span> is in the core if and only if <span class="math inline">x \in C</span>, <span class="math inline">C = \{x \in \mathbb{R}_+^N: x(N) = v(N), x(c) \ge v(c) \forall c \subseteq N\}</span>. There are exponentially many constraints, so we simplify as <span class="math inline">C^\prime = \{x \in \mathbb{R}_+^N: x(N) = v(N), x_u + x_v \ge w_{uv} \forall uv \in E\}</span>.</p>
<p><strong>Proposition</strong>: <span class="math inline">C = C^\prime</span>.</p>
<blockquote>
<p>Every constraint <span class="math inline">C</span> is also in <span class="math inline">C^\prime</span>, so <span class="math inline">C \subseteq C^\prime</span>. Let <span class="math inline">x \in C^\prime</span>. <span class="math inline">x(N) = v(N)</span>. Let <span class="math inline">c \subseteq N</span>. Let <span class="math inline">M</span> be a maximum weight matching in <span class="math inline">c</span>. Then <span class="math inline">v(c) = w(M)</span>. We want to show that <span class="math inline">x(c) \ge v(c) = w(M)</span>.</p>
<p><span class="math display">\begin{aligned}
x(c) &amp;\ge \sum_{uv \in M} (x_u + x_v) \text{ (since $M$ is a matching)} \\
&amp;\ge \sum_{uv \in M} w_{uv} \text{ (since $x \in C^\prime$)}\\
&amp;= w(M)
\end{aligned}</span></p>
</blockquote>
<p><strong>LP Formulation</strong>: We solve feasibility problem of <span class="math inline">C^\prime</span> using the following LP.</p>
<p><span class="math display">\begin{aligned}
\min\ &amp;x(N) \\
\text{s.t. } &amp;x_u + x_v \ge w_{uv},\ \forall uv \in E \\
&amp;x \ge 0
\end{aligned}</span> This is feasible with large <span class="math inline">x</span>. As <span class="math inline">C = C^\prime</span>, <span class="math inline">x(N) \ge v(N)</span>. So the solution is bounded by <span class="math inline">v(N)</span>. So there is an optimal solution. The dual is given by the followinig LP.</p>
<p><span class="math display">\begin{aligned}
\max\ &amp;\sum_{e \in E} w_e y_e \\
\text{s.t. } &amp;\sum_{e \in \delta(v)} y_e \le 1,\ \forall v \in N \\
&amp;y \ge 0
\end{aligned}</span></p>
<p>When <span class="math inline">y</span> is integral, this is the maximum weight matching problem. This is the LP relaxation. (D) could have fractional optimal solution, for example a triangle with all edge weights being <span class="math inline">3</span> would have a maximum matching of <span class="math inline">3</span> but the LP relaxation optimal would be <span class="math inline">y = \left(\frac{1}{2}, \frac{1}{2}, \frac{1}{2}\right)</span>, <span class="math inline">4.5</span>.</p>
<p><strong>Proposition</strong>: The core of the matching game is non-empty if and only if <span class="math inline">(D)</span> has an integral optimal solution.</p>
<blockquote>
<p>It suffices to show that <span class="math inline">(P)</span> has an optimal value <span class="math inline">v(N)</span> if and only if <span class="math inline">(D)</span> has an integer optimal solution.</p>
<p><span class="math inline">(\Rightarrow)</span> Suppose <span class="math inline">(P)</span> has optimal value <span class="math inline">v(N)</span>, so <span class="math inline">x(N) = v(N)</span>. Let <span class="math inline">M</span> be a matching of value <span class="math inline">v(N)</span>, <span class="math inline">w(M) = v(N)</span>. Let <span class="math inline">y</span> be the vector where <span class="math inline">y_e = \begin{cases} 1\ &amp;e \in M\\0,\ &amp;e \not\in M\end{cases}</span>. So <span class="math inline">y</span> is feasible for <span class="math inline">(D)</span>, with objective value <span class="math inline">w(M)</span>. By weak duality, <span class="math inline">y</span> is optimal for <span class="math inline">(D)</span>, <span class="math inline">y</span> is integral.</p>
<p><span class="math inline">(\Leftarrow)</span> Suppose <span class="math inline">y</span> is optimal integral solution for <span class="math inline">(D)</span>. Let <span class="math inline">M^\prime = \{e \in E: y_e = 1\}</span>. Then <span class="math inline">M^\prime</span> is a matching with optimal value <span class="math inline">w(M^\prime)</span>, and <span class="math inline">M^\prime</span> is a maximum weight matching. Then <span class="math inline">w(M^\prime) = v(N)</span>. By strong duality, <span class="math inline">(P)</span> has optimal value <span class="math inline">v(N)</span>.</p>
</blockquote>
<p><em>Note</em>: When <span class="math inline">G</span> is bipartite, <span class="math inline">(D)</span> has integral optimal solution, so the core is non-empty. Determining the integrality of <span class="math inline">(D)</span> is polytime.</p>
<h2 id="network-bargaining-games">Network Bargaining Games</h2>
<p>Network bargaining game is a game played on a graph <span class="math inline">G = (N, E)</span>. Every edge <span class="math inline">uv</span> represents a potential partnership between <span class="math inline">u,v</span> which generates value <span class="math inline">w_{uv}</span>. How are pairs formed? How should the value be split?</p>
<p>An outcome consists of a matching <span class="math inline">M</span> and a payoff vector <span class="math inline">x \in \mathbb{R}_+^N</span> such that <span class="math inline">x_u + x_v = w_{uv}</span> for all <span class="math inline">uv \in M</span>, <span class="math inline">x_v = 0</span> if <span class="math inline">v</span> is not matched in <span class="math inline">M</span>.</p>
<h3 id="stable-outcomes">Stable Outcomes</h3>
<p><strong>Definition</strong>: For an outcome <span class="math inline">(M, x)</span> and player <span class="math inline">u</span>, the <strong>outside option</strong> of player <span class="math inline">u</span> is <span class="math inline">\alpha_u = \max\{w_{uv} - x_v: uv \in \delta(u) \setminus M\}</span>. If <span class="math inline">\delta(u) \setminus M = \emptyset</span>, then <span class="math inline">\alpha_u = 0</span>. This is the maximum value that <span class="math inline">u</span> receives by defecting from their current partner in <span class="math inline">M</span>. It is stable if there is no incentive to switch.</p>
<p><strong>Definition</strong>: An outcome <span class="math inline">(M, v)</span> is <strong>stable</strong> if <span class="math inline">x_u \ge \alpha_u</span> for all <span class="math inline">u \in N</span>.</p>
<p>In a stable outcome, for any edge <span class="math inline">uv</span>, <span class="math inline">x_u + x_v \ge w_{uv}</span> (<span class="math inline">x_u \ge \alpha_u \ge w_{uv} - x_v</span>).</p>
<p><strong>Proposition</strong>: A stable outcome exists in a network bargaining game if and only if the correpsonding matching game has a non-empty core.</p>
<h3 id="balanced-outcomes">Balanced Outcomes</h3>
<p><strong>Definition</strong>: Outcome <span class="math inline">(M, v)</span> is <strong>balanced</strong> if for all <span class="math inline">uv \in M</span>, <span class="math inline">x_u - \alpha_u = x_v - \alpha_v</span>. Alternatively, <span class="math inline">x_u = \alpha_u + \frac{w_{uv} - \alpha_u - \alpha_v}{2}</span>.</p>
<p><strong>Definition</strong>: For any cooperative game <span class="math inline">(N, v)</span> and a payoff vector <span class="math inline">x \in \mathbb{R}_+^N</span>, the <strong>surplus</strong> of <span class="math inline">i</span> over <span class="math inline">j</span> is <span class="math inline">S_{ij} = \max\{v(c) - x(c): c \subseteq N, i \in c, j \not\in C\}</span>.</p>
<p><span class="math inline">v(c) - x(c)</span> is the excess value not distributed. The max represents what player <span class="math inline">i</span> could potentially get without working with <span class="math inline">j</span>. If <span class="math inline">S_{ij}(x) &gt; S_{ji}(x)</span>, then player <span class="math inline">i</span> could demand more from <span class="math inline">j</span> if they work together.</p>
<p><strong>Definition</strong>: The <strong>prekernel</strong> is <span class="math inline">P = \{x \in \mathbb{R}_+^N: S_{ij}(x) = S_{ji}(x)\ \forall i, j \in N\}</span>.</p>
<p>Application to network bargaining.</p>
<p><strong>Proposition</strong>: If <span class="math inline">x</span> is in the intersection of the core and the prekernel of the matching game corresponding to the network bargaining game, then <span class="math inline">x</span> is a balanced outcome in the network bargaining game.</p>
<blockquote>
<p>Let <span class="math inline">ij</span> be an edge. We first prove that the surplus of <span class="math inline">i</span> over <span class="math inline">j</span> is <span class="math inline">S_{ij} = \begin{cases} \max \{w_{ik} - x_i - x_k: ik \in \delta(i) \setminus \{ij\}\},\ &amp;\delta(i) \setminus \{ij\} \neq \emptyset \\ -x_i\ &amp;\delta(i) \setminus \{ij\} = \emptyset\end{cases} = \alpha_i - x_i</span>.</p>
<p>Let <span class="math inline">c \subseteq N</span>, <span class="math inline">i \in c, j \not\in c</span> be a minimal set where <span class="math inline">S_{ij}(x) = v(c) - x(c)</span>. Let <span class="math inline">M</span> be a matching in <span class="math inline">c</span> where <span class="math inline">v(c) = w(M)</span>. Suppose there exists <span class="math inline">uv \in M</span> that is not incident with <span class="math inline">i</span>. Since <span class="math inline">x</span> is in the core, <span class="math inline">x_u + x_v \ge w_{uv}</span>.</p>
<p><span class="math display">\begin{aligned}
v(c \setminus \{u, v\}) - x(c \setminus \{u, v\}) &amp;= v(c) - w_{uv} - (x(c) - x_u - x_v) \\
&amp;= v(c) - x(c) + x_u + x_v - w_{uv} \\
&amp;\ge v(c) - x(c)
\end{aligned}</span></p>
<p>This implies <span class="math inline">v(c \setminus \{u, v\}) - x(c \setminus \{u, v\}) = v(c) - x(c)</span>, contradicting the minimality of <span class="math inline">c</span>. Similarly, <span class="math inline">c</span> cannot include and vertex other that <span class="math inline">i</span> that is not matched in <span class="math inline">M</span> (eitehr it would increase <span class="math inline">S_{ij}</span>, or make a smaller <span class="math inline">c</span>). So <span class="math inline">c</span> is either <span class="math inline">\{i\}</span> or <span class="math inline">\{i, k\}</span> where <span class="math inline">ik \in \delta(i) \setminus \{ij\}</span>. This givs our formula for <span class="math inline">S_{ij}(x)</span>. Finally, since <span class="math inline">x</span> is in the prekernel, <span class="math inline">S_{ij}(x) = S_{ji}(x)</span>. So <span class="math inline">\alpha_i - x_i = \alpha_j - x_j</span>, so <span class="math inline">x</span> is balanced.</p>
</blockquote>
<p>Schmeidler showed that in general, if the core is non-empty, then the intersection of hte core and the prekernel is non-empty.</p>
<p><strong>Theorem</strong>: A network bargaining game is a balanced outcome if and only if it has a stable outcome.</p>
</body>
</html>
